"use strict";(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[356],{54323:function(e,t,r){r.d(t,{Z:function(){return n}});var s=r(9872),i=["years","months","weeks","days","hours","minutes","seconds"];function n(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=(null==t?void 0:t.format)||i,n=(null==t?void 0:t.locale)||s.Z,a=(null==t?void 0:t.zero)||!1,o=(null==t?void 0:t.delimiter)||" ",u=r.reduce(function(t,r){var s="x".concat(r.replace(/(^.)/,function(e){return e.toUpperCase()}));return"number"==typeof e[r]&&(a||e[r])?t.concat(n.formatDistance(s,e[r])):t},[]).join(o);return u}},59852:function(e,t,r){r.d(t,{Z:function(){return K}});var s=r(94513),i=r(43463);function n(e,t){(0,i.Z)(2,arguments);var r=(0,s.Z)(e),n=(0,s.Z)(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function a(e,t){(0,i.Z)(2,arguments);var r=(0,s.Z)(e),n=(0,s.Z)(t);return r.getFullYear()-n.getFullYear()}function o(e,t){(0,i.Z)(2,arguments);var r=(0,s.Z)(e),o=(0,s.Z)(t),u=n(r,o),l=Math.abs(a(r,o));r.setFullYear(1584),o.setFullYear(1584);var h=n(r,o)===-u,d=u*(l-Number(h));return 0===d?0:d}function u(e,t){(0,i.Z)(2,arguments);var r=(0,s.Z)(e),n=(0,s.Z)(t),a=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return 12*a+o}function l(e){(0,i.Z)(1,arguments);var t=(0,s.Z)(e);return t.setHours(23,59,59,999),t}function h(e){(0,i.Z)(1,arguments);var t=(0,s.Z)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function d(e){(0,i.Z)(1,arguments);var t=(0,s.Z)(e);return l(t).getTime()===h(t).getTime()}function p(e,t){(0,i.Z)(2,arguments);var r,a=(0,s.Z)(e),o=(0,s.Z)(t),l=n(a,o),h=Math.abs(u(a,o));if(h<1)r=0;else{1===a.getMonth()&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*h);var p=n(a,o)===-l;d((0,s.Z)(e))&&1===h&&1===n(e,o)&&(p=!1),r=l*(h-Number(p))}return 0===r?0:r}var c=r(95729);function g(e){(0,i.Z)(1,arguments);var t=(0,s.Z)(e);return t.setHours(0,0,0,0),t}var v=864e5;function b(e,t){(0,i.Z)(2,arguments);var r=g(e),s=g(t),n=r.getTime()-(0,c.Z)(r),a=s.getTime()-(0,c.Z)(s);return Math.round((n-a)/v)}function Z(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function m(e,t){(0,i.Z)(2,arguments);var r=(0,s.Z)(e),n=(0,s.Z)(t),a=Z(r,n),o=Math.abs(b(r,n));r.setDate(r.getDate()-a*o);var u=Number(Z(r,n)===-a),l=a*(o-u);return 0===l?0:l}function y(e,t){(0,i.Z)(2,arguments);var r=(0,s.Z)(e),n=(0,s.Z)(t);return r.getTime()-n.getTime()}var f=36e5;function w(e,t){(0,i.Z)(2,arguments);var r=y(e,t)/f;return r>0?Math.floor(r):Math.ceil(r)}function _(e,t){(0,i.Z)(2,arguments);var r=y(e,t)/6e4;return r>0?Math.floor(r):Math.ceil(r)}function z(e,t){(0,i.Z)(2,arguments);var r=y(e,t)/1e3;return r>0?Math.floor(r):Math.ceil(r)}var M=r(23246),q=r(20207);function E(e,t){(0,i.Z)(2,arguments);var r=(0,s.Z)(e),n=(0,q.Z)(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function F(e,t){(0,i.Z)(2,arguments);var r=(0,q.Z)(t);return E(e,-r)}function S(e,t){(0,i.Z)(2,arguments);var r=(0,s.Z)(e),n=(0,q.Z)(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),o=new Date(r.getTime());o.setMonth(r.getMonth()+n+1,0);var u=o.getDate();return a>=u?o:(r.setFullYear(o.getFullYear(),o.getMonth(),a),r)}function D(e,t){(0,i.Z)(2,arguments);var r=(0,q.Z)(t);return S(e,-r)}function O(e,t){if((0,i.Z)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var r=t.years?(0,q.Z)(t.years):0,n=t.months?(0,q.Z)(t.months):0,a=t.weeks?(0,q.Z)(t.weeks):0,o=t.days?(0,q.Z)(t.days):0,u=t.hours?(0,q.Z)(t.hours):0,l=t.minutes?(0,q.Z)(t.minutes):0,h=t.seconds?(0,q.Z)(t.seconds):0,d=D((0,s.Z)(e),n+12*r),p=F(d,o+7*a),c=l+60*u,g=h+60*c,v=1e3*g,b=new Date(p.getTime()-v);return b}function K(e){var t=e.start,r=e.end;(0,i.Z)(1,arguments);var a=(0,s.Z)(t),u=(0,s.Z)(r);if(!(0,M.Z)(a))throw new RangeError("Start Date is invalid");if(!(0,M.Z)(u))throw new RangeError("End Date is invalid");var l={years:0,months:0,days:0,hours:0,minutes:0,seconds:0},h=n(a,u);l.years=Math.abs(o(a,u));var d=O(a,{years:h*l.years});l.months=Math.abs(p(d,u));var c=O(d,{months:h*l.months});l.days=Math.abs(m(c,u));var g=O(c,{days:h*l.days});l.hours=Math.abs(w(g,u));var v=O(g,{hours:h*l.hours});l.minutes=Math.abs(_(v,u));var b=O(v,{minutes:h*l.minutes});return l.seconds=Math.abs(z(b,u)),l}},28788:function(e,t,r){r.d(t,{F:function(){return q}});var s=r(3679),i=r(17102),n=r(68307),a=r(5304),o=r(88002);class u{constructor(){}deserialize(e){return Object.assign(this,e),this}}class l{constructor(){}deserialize(e){return e.name=e.first_name+" "+e.last_name,Object.assign(this,e),this}}class h{constructor(){}deserialize(e){return Object.assign(this,e),this.surveyeds&&e.surveyeds.map(e=>(new l).deserialize(e)),this}}class d{constructor(){}deserialize(e){return Object.assign(this,e),this}}class p{constructor(){}deserialize(e){return Object.assign(this,e),this.onets&&e.onets.map(e=>(new d).deserialize(e)),this}}class c{constructor(){}deserialize(e){return Object.assign(this,e),this.pps&&(new p).deserialize(e.pps),this}}class g{constructor(){}deserialize(e){return Object.assign(this,e),this.checked=1==e.checked,this}}class v{constructor(){}deserialize(e){return Object.assign(this,e),this.question&&e.question.map(e=>(new Z).deserialize(e)),this}}class b{constructor(){}deserialize(e){return Object.assign(this,e),this}}class Z{constructor(){}deserialize(e){return e.validators=new Array,e.required&&e.validators.push(s.kI.required),e.isEmail&&e.validators.push(s.kI.email),e.show=!0,this.conditions&&e.options.map(e=>(new v).deserialize(e)),this.answers&&e.answers.map(e=>(new g).deserialize(e)),this.options&&e.options.map(e=>(new b).deserialize(e)),this.checked="1"==e.checked,this}}class m{constructor(){}deserialize(e){Object.assign(this,e);let t=new Array;return this.questions&&e.questions.map(e=>{(new Z).deserialize(e)}),this.questions.map(e=>{e.conditions.map(e=>{t.push(e)})}),t.map(e=>{this.questions.map((t,r)=>{e.restriction_id==t.id&&(e.question_index=r)})}),this}}class y{constructor(){}deserialize(e){return Object.assign(this,e),this.surveyed&&(new l).deserialize(e.surveyed),this}}var f=r(39205),w=r(37716),_=r(12426),z=r(94720);const M=e=>`populations/${e}`;let q=(()=>{class e extends i.b{constructor(e,t){super(t),this._http=e,this._nbService=t}getAllSections(){return this._http.get("sections").pipe((0,n.b)(e=>this.log("Fetched Sections")),(0,a.K)(this.handleError("getAll",[])),(0,o.U)(e=>e.map(e=>(new m).deserialize(e))))}getSingleSection(e,t){return this._http.get(((e,t)=>`sections/${e}/${t}`)(t,e)).pipe((0,o.U)(e=>(new m).deserialize(e)))}getAllQuestions(){return this._http.get("questions").pipe((0,n.b)(e=>this.log("Fetched Questions")),(0,a.K)(this.handleError("getAll",[])),(0,o.U)(e=>e.map(e=>(new Z).deserialize(e))))}updateQuestion(e){return this._http.put((e=>`questions/${e}`)(e.id),e).pipe((0,n.b)(t=>this.log(`Updated role id=${e.id}`)),(0,a.K)(this.handleError("updateQuestion")))}addOption(e){return this._http.post("options",e).pipe((0,n.b)(t=>this.log(`Add Option id=${e.id}`)),(0,a.K)(this.handleError("addOption")))}deleteOption(e){return this._http.delete((e=>`options/${e}`)(e.id)).pipe((0,n.b)(t=>this.log(`Deleted Option id=${e.id}`)),(0,a.K)(this.handleError("deleteOption")))}addOrUpdateSurvey(e){return this._http.postFormData("surveys",e,{reportProgress:!0,observe:"events"}).pipe((0,n.b)(e=>this.log("create Survey ")),(0,a.K)(this.handleError("Survey")))}createOrGetSurvey(e){return this._http.postFormData("surveys/gateway",e,{reportProgress:!0,observe:"events"}).pipe((0,n.b)(e=>this.log("create Survey ")),(0,a.K)(this.handleError("Survey")))}getSingleUser(e){return this._http.get((e=>`users/${e}`)(e)).pipe((0,a.K)(this.handleError("getSingle",[])),(0,o.U)(e=>(new f.n).deserialize(e)))}getSurveys(e){return this._http.get((e=>`surveys/${e}`)(e)).pipe((0,n.b)(e=>this.log("Fetched Surveys")),(0,a.K)(this.handleError("getAll",[])),(0,o.U)(e=>e.map(e=>(new y).deserialize(e))))}getSurvey(e){return this._http.get((e=>`surveys/uuid/${e}`)(e)).pipe((0,n.b)(e=>this.log("Fetched Surveys")),(0,a.K)(this.handleError("getAll",[])),(0,o.U)(e=>(new y).deserialize(e)))}getPpsRank(e){return this._http.get((e=>`pps/${e}`)(e)).pipe((0,n.b)(e=>this.log("Fetched Pps")),(0,a.K)(this.handleError("getAll",[])),(0,o.U)(e=>e.map(e=>(new c).deserialize(e))))}getOccupationByTitle(e){return this._http.get((e=>`occupation/${e}`)(e)).pipe((0,n.b)(e=>this.log("Fetched getOccupations")),(0,a.K)(this.handleError("getAll",[])),(0,o.U)(e=>(new u).deserialize(e)))}getOccupationsBylevel(e,t){return this._http.get(((e,t)=>`occupations/${e}/${t}`)(e,t)).pipe((0,n.b)(e=>this.log("Fetched getOccupations")),(0,a.K)(this.handleError("getAll",[])),(0,o.U)(e=>e.map(e=>(new u).deserialize(e))))}getPopulations(){return this._http.get("populations").pipe((0,n.b)(e=>this.log("Fetched Population")),(0,a.K)(this.handleError("Population",[])),(0,o.U)(e=>e.map(e=>(new h).deserialize(e))))}addPopulation(e){return this._http.postFormData("populations",e,{reportProgress:!0,observe:"events"}).pipe((0,n.b)(e=>this.log("create Population ")),(0,a.K)(this.handleError("Population")))}getPopulation(e){return this._http.get(M(e)).pipe((0,n.b)(e=>this.log("Fetched Population")),(0,a.K)(this.handleError("getAll",[])),(0,o.U)(e=>(new h).deserialize(e)))}delPopulations(e){const t=M(e.id+"");return this._http.delete(t).pipe((0,n.b)(t=>this.log(`deleted Population id=${e.id}`)),(0,a.K)(this.handleError("deletePopulation")))}activePopulations(e){const t=(e=>`populations/activate/${e}`)(e.id+"");return this._http.post(t).pipe((0,n.b)(e=>this.log("Fetched Population")),(0,a.K)(this.handleError("Population",[])),(0,o.U)(e=>e.map(e=>(new h).deserialize(e))))}addSurveyed(e){return this._http.post("surveyeds",e).pipe((0,n.b)(t=>this.log(`Add Surveyed id=${e.id}`)),(0,a.K)(this.handleError("addSurveyedn")),(0,o.U)(e=>(new l).deserialize(e)))}deleteSurveyed(e){const t=(e=>`surveyeds/${e}`)(e.id+"");return this._http.delete(t).pipe((0,n.b)(t=>this.log(`deleted Surveyed id=${e.id}`)),(0,a.K)(this.handleError("deletePopulation")))}deleteSurvey(e){const t=(e=>`surveys/${e}`)(e.id+"");return this._http.delete(t).pipe((0,n.b)(t=>this.log(`deleted Survey id=${e.id}`)),(0,a.K)(this.handleError("deletePopulation")))}setTableData(e,t){return this._http.postFormData(e,t,{reportProgress:!0,observe:"events"}).pipe((0,n.b)(e=>this.log("create Survey ")))}getTableData(e){return this._http.get(e).pipe((0,n.b)(e=>this.log("Fetched tableRoute")),(0,a.K)(this.handleError("tableRoute",[])))}eval_conditions(e,t,r,i){e.questions.map(e=>{e.conditions.length>0&&e.conditions.forEach(e=>{e.value.split(",").includes(r+"")?(t.get(e.question.label).setValidators(null),t.get(e.question.label).updateValueAndValidity(),i.questions?i.questions[e.question_index].show=!1:i[e.question_index].show=!1):(t.get(e.question.label).setValidators(s.kI.required),t.get(e.question.label).updateValueAndValidity(),t.get(e.question.label).enable(),i.questions?i.questions[e.question_index].show=!0:i[e.question_index].show=!0)})})}}return e.\u0275fac=function(t){return new(t||e)(w.\u0275\u0275inject(_.s),w.\u0275\u0275inject(z.quB))},e.\u0275prov=w.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);