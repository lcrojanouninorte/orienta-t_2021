"use strict";(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[799],{17677:function(e,t,n){n.d(t,{H:function(){return r}});var i=n(14398);class r{constructor(){}deserialize(e){return Object.assign(this,e),this.surveyeds&&e.surveyeds.map(e=>(new i.u).deserialize(e)),this}}},14398:function(e,t,n){n.d(t,{u:function(){return i}});class i{constructor(){}deserialize(e){return e.name=e.first_name+" "+e.last_name,Object.assign(this,e),this}}},91457:function(e,t,n){n.d(t,{F:function(){return w}});var i=n(3679),r=n(17102),a=n(68307),o=n(5304),l=n(88002);class s{constructor(){}deserialize(e){return Object.assign(this,e),this}}var c=n(17677);class d{constructor(){}deserialize(e){return Object.assign(this,e),this}}class u{constructor(){}deserialize(e){return Object.assign(this,e),this.onets&&e.onets.map(e=>(new d).deserialize(e)),this}}class m{constructor(){}deserialize(e){return Object.assign(this,e),this.pps&&(new u).deserialize(e.pps),this}}class p{constructor(){}deserialize(e){return Object.assign(this,e),this.checked=1==e.checked,this}}class h{constructor(){}deserialize(e){return Object.assign(this,e),this.question&&e.question.map(e=>(new v).deserialize(e)),this}}class g{constructor(){}deserialize(e){return Object.assign(this,e),this}}class v{constructor(){}deserialize(e){return e.validators=new Array,e.required&&e.validators.push(i.kI.required),e.isEmail&&e.validators.push(i.kI.email),e.show=!0,this.conditions&&e.options.map(e=>(new h).deserialize(e)),this.answers&&e.answers.map(e=>(new p).deserialize(e)),this.options&&e.options.map(e=>(new g).deserialize(e)),this.checked="1"==e.checked,this}}class f{constructor(){}deserialize(e){Object.assign(this,e);let t=new Array;return this.questions&&e.questions.map(e=>{(new v).deserialize(e)}),this.questions.map(e=>{e.conditions.map(e=>{t.push(e)})}),t.map(e=>{this.questions.map((t,n)=>{e.restriction_id==t.id&&(e.question_index=n)})}),this}}var b=n(14398);class y{constructor(){}deserialize(e){return Object.assign(this,e),this.surveyed&&(new b.u).deserialize(e.surveyed),this}}var S=n(39205),_=n(37716),E=n(12426),x=n(94720);const C=e=>`populations/${e}`;let w=(()=>{class e extends r.b{constructor(e,t){super(t),this._http=e,this._nbService=t}getAllSections(){return this._http.get("sections").pipe((0,a.b)(e=>this.log("Fetched Sections")),(0,o.K)(this.handleError("getAll",[])),(0,l.U)(e=>e.map(e=>(new f).deserialize(e))))}getSingleSection(e,t){return this._http.get(((e,t)=>`sections/${e}/${t}`)(t,e)).pipe((0,l.U)(e=>(new f).deserialize(e)))}getAllQuestions(){return this._http.get("questions").pipe((0,a.b)(e=>this.log("Fetched Questions")),(0,o.K)(this.handleError("getAll",[])),(0,l.U)(e=>e.map(e=>(new v).deserialize(e))))}updateQuestion(e){return this._http.put((e=>`questions/${e}`)(e.id),e).pipe((0,a.b)(t=>this.log(`Updated role id=${e.id}`)),(0,o.K)(this.handleError("updateQuestion")))}addOption(e){return this._http.post("options",e).pipe((0,a.b)(t=>this.log(`Add Option id=${e.id}`)),(0,o.K)(this.handleError("addOption")))}deleteOption(e){return this._http.delete((e=>`options/${e}`)(e.id)).pipe((0,a.b)(t=>this.log(`Deleted Option id=${e.id}`)),(0,o.K)(this.handleError("deleteOption")))}addOrUpdateSurvey(e){return this._http.postFormData("surveys",e,{reportProgress:!0,observe:"events"}).pipe((0,a.b)(e=>this.log("create Survey ")),(0,o.K)(this.handleError("Survey")))}createOrGetSurvey(e){return this._http.postFormData("surveys/gateway",e,{reportProgress:!0,observe:"events"}).pipe((0,a.b)(e=>this.log("create Survey ")),(0,o.K)(this.handleError("Survey")))}getSingleUser(e){return this._http.get((e=>`users/${e}`)(e)).pipe((0,o.K)(this.handleError("getSingle",[])),(0,l.U)(e=>(new S.n).deserialize(e)))}getSurveys(e){return this._http.get((e=>`surveys/${e}`)(e)).pipe((0,a.b)(e=>this.log("Fetched Surveys")),(0,o.K)(this.handleError("getAll",[])),(0,l.U)(e=>e.map(e=>(new y).deserialize(e))))}getSurvey(e){return this._http.get((e=>`surveys/uuid/${e}`)(e)).pipe((0,a.b)(e=>this.log("Fetched Surveys")),(0,o.K)(this.handleError("getAll",[])),(0,l.U)(e=>(new y).deserialize(e)))}getPpsRank(e){return this._http.get((e=>`pps/${e}`)(e)).pipe((0,a.b)(e=>this.log("Fetched Pps")),(0,o.K)(this.handleError("getAll",[])),(0,l.U)(e=>e.map(e=>(new m).deserialize(e))))}getOccupationByTitle(e){return this._http.get((e=>`occupation/${e}`)(e)).pipe((0,a.b)(e=>this.log("Fetched getOccupations")),(0,o.K)(this.handleError("getAll",[])),(0,l.U)(e=>(new s).deserialize(e)))}getOccupationsBylevel(e,t){return this._http.get(((e,t)=>`occupations/${e}/${t}`)(e,t)).pipe((0,a.b)(e=>this.log("Fetched getOccupations")),(0,o.K)(this.handleError("getAll",[])),(0,l.U)(e=>e.map(e=>(new s).deserialize(e))))}getPopulations(){return this._http.get("populations").pipe((0,a.b)(e=>this.log("Fetched Population")),(0,o.K)(this.handleError("Population",[])),(0,l.U)(e=>e.map(e=>(new c.H).deserialize(e))))}addPopulation(e){return this._http.postFormData("populations",e,{reportProgress:!0,observe:"events"}).pipe((0,a.b)(e=>this.log("create Population ")),(0,o.K)(this.handleError("Population")))}getPopulation(e){return this._http.get(C(e)).pipe((0,a.b)(e=>this.log("Fetched Population")),(0,o.K)(this.handleError("getAll",[])),(0,l.U)(e=>(new c.H).deserialize(e)))}delPopulations(e){const t=C(e.id+"");return this._http.delete(t).pipe((0,a.b)(t=>this.log(`deleted Population id=${e.id}`)),(0,o.K)(this.handleError("deletePopulation")))}activePopulations(e){const t=(e=>`populations/activate/${e}`)(e.id+"");return this._http.post(t).pipe((0,a.b)(e=>this.log("Fetched Population")),(0,o.K)(this.handleError("Population",[])),(0,l.U)(e=>e.map(e=>(new c.H).deserialize(e))))}addSurveyed(e){return this._http.post("surveyeds",e).pipe((0,a.b)(t=>this.log(`Add Surveyed id=${e.id}`)),(0,o.K)(this.handleError("addSurveyedn")),(0,l.U)(e=>(new b.u).deserialize(e)))}deleteSurveyed(e){const t=(e=>`surveyeds/${e}`)(e.id+"");return this._http.delete(t).pipe((0,a.b)(t=>this.log(`deleted Surveyed id=${e.id}`)),(0,o.K)(this.handleError("deletePopulation")))}deleteSurvey(e){const t=(e=>`surveys/${e}`)(e.id+"");return this._http.delete(t).pipe((0,a.b)(t=>this.log(`deleted Survey id=${e.id}`)),(0,o.K)(this.handleError("deletePopulation")))}eval_conditions(e,t,n,r){e.questions.map(e=>{e.conditions.length>0&&e.conditions.forEach(e=>{e.value.split(",").includes(n+"")?(t.get(e.question.label).setValidators(null),t.get(e.question.label).updateValueAndValidity(),r.questions?r.questions[e.question_index].show=!1:r[e.question_index].show=!1):(t.get(e.question.label).setValidators(i.kI.required),t.get(e.question.label).updateValueAndValidity(),t.get(e.question.label).enable(),r.questions?r.questions[e.question_index].show=!0:r[e.question_index].show=!0)})})}}return e.\u0275fac=function(t){return new(t||e)(_.\u0275\u0275inject(E.s),_.\u0275\u0275inject(x.quB))},e.\u0275prov=_.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},3799:function(e,t,n){n.r(t),n.d(t,{DashboardModule:function(){return H}});var i=n(94720),r=n(35751),a=n(37716),o=n(38583);class l{constructor(e,t){this._document=t;const n=this._textarea=this._document.createElement("textarea"),i=n.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",n.setAttribute("aria-hidden","true"),n.value=e,this._document.body.appendChild(n)}copy(){const e=this._textarea;let t=!1;try{if(e){const n=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),n&&n.focus()}}catch(n){}return t}destroy(){const e=this._textarea;e&&(e.parentNode&&e.parentNode.removeChild(e),this._textarea=void 0)}}let s=(()=>{class e{constructor(e){this._document=e}copy(e){const t=this.beginCopy(e),n=t.copy();return t.destroy(),n}beginCopy(e){return new l(e,this._document)}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275inject(o.DOCUMENT))},e.\u0275prov=a.\u0275\u0275defineInjectable({factory:function(){return new e(a.\u0275\u0275inject(o.DOCUMENT))},token:e,providedIn:"root"}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({}),e})();var d=n(51938),u=n(31479),m=n(91457),p=n(43424),h=n(3679),g=n(50686);let v=(()=>{class e{transform(t,n){return n&&t?e.filter(t,n):t}static filter(e,t){const n=t.toLowerCase();function i(e,t){for(let r in e)if(null!==e[r]&&null!=e[r]&&("object"==typeof e[r]&&i(e[r],t)||e[r].toString().toLowerCase().includes(n)))return!0;return!1}return e.filter(function(e){return i(e,t)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.\u0275\u0275definePipe({name:"filter",type:e,pure:!1}),e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({}),e})();function b(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"nb-list-item",11),a.\u0275\u0275element(1,"nb-user",12),a.\u0275\u0275elementStart(2,"nb-actions",13),a.\u0275\u0275elementStart(3,"nb-action",14),a.\u0275\u0275elementStart(4,"p",15),a.\u0275\u0275elementStart(5,"b"),a.\u0275\u0275text(6,"Desde:"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"p"),a.\u0275\u0275text(8),a.\u0275\u0275pipe(9,"date"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"nb-action",16),a.\u0275\u0275elementStart(11,"p",15),a.\u0275\u0275elementStart(12,"b"),a.\u0275\u0275text(13,"Hasta:"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"p"),a.\u0275\u0275text(15),a.\u0275\u0275pipe(16,"date"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"nb-action",17),a.\u0275\u0275elementStart(18,"a",18),a.\u0275\u0275element(19,"nb-icon",19),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(20,"nb-action",20),a.\u0275\u0275element(21,"nb-icon",21),a.\u0275\u0275elementStart(22,"swal",22,23),a.\u0275\u0275listener("confirm",function(){const t=a.\u0275\u0275restoreView(e),n=t.$implicit,i=t.index;return a.\u0275\u0275nextContext().delete_survey(n,i)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=a.\u0275\u0275reference(23),i=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("name",null==e||null==e.surveyed?null:e.surveyed.name)("title",null==e||null==e.surveyed?null:e.surveyed.identification),a.\u0275\u0275advance(7),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(9,10,null==e?null:e.created_at,"medium")),a.\u0275\u0275advance(7),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(16,13,null==e?null:e.updated_at,"medium")),a.\u0275\u0275advance(3),a.\u0275\u0275propertyInterpolate2("href","#/encuesta/1/",i.user.id,"/",e.uuid,"",a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(2),a.\u0275\u0275property("swal",n),a.\u0275\u0275advance(2),a.\u0275\u0275propertyInterpolate1("title","Seguro que desea eliminar la encuesta de ",e.surveyed.name,"?"),a.\u0275\u0275property("showCancelButton",!0)("focusCancel",!0)}}let y=(()=>{class e{constructor(e,t,n,i){this._Activatedroute=e,this._surveyService=t,this._accessChecker=n,this._router=i,this.filterargs={name:"luis"},this.filterName="",this.filterId=""}ngOnInit(){}view_survey(e){this._router.navigate(["encuesta",1,this.user.id,e.uuid])}delete_survey(e,t){this._surveyService.deleteSurvey(e).subscribe({next:e=>{this.surveys.splice(t,1),this._surveyService.showToast("rigth","success","Borrado Correctamente")}})}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(p.gz),a.\u0275\u0275directiveInject(m.F),a.\u0275\u0275directiveInject(d.QH),a.\u0275\u0275directiveInject(p.F0))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["ngx-surveys-table"]],inputs:{user:"user",surveys:"surveys",title:"title"},decls:24,vars:10,consts:[["size","large"],[1,"row","mb-2"],[1,"col-md-6"],["for","name"],["nbPrefix","","icon","person-outline","pack","eva"],["fieldSize","small","placeholder","Buscar por Nombre","name","name","type","text","nbInput","",3,"ngModel","ngModelChange"],["for","id"],["nbPrefix","","icon","hash-outline","pack","eva"],["fieldSize","small","placeholder","Buscar por Id","name","id","type","text","nbInput","",3,"ngModel","ngModelChange"],[1,"row","mt-2"],["class","d-flex justify-content-between align-items-stretch",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-stretch"],["size","medium",3,"name","title"],["fullWidth","","size","small",1,"text-center"],["title","Inicio",1,"d-flex","flex-column","justify-content-center"],[1,"label","p-0","m-0"],["title","Borrar Campa\xf1a",1,"d-flex","flex-column","justify-content-center"],["tile","ver encuesta",1,"text-center"],["target","_blank",3,"href"],["icon","external-link-outline","status","info"],["tile","borrar encuesta",1,"text-center",3,"swal"],["icon","trash-outline","status","info"],["text","Esto no se puede deshacer","icon","question",3,"title","showCancelButton","focusCancel","confirm"],["deleteSwal",""]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"nb-card",0),a.\u0275\u0275elementStart(1,"nb-card-body"),a.\u0275\u0275elementStart(2,"h2"),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"p"),a.\u0275\u0275text(5," El siguiente es un listado de encuestas realizadas a traves de su enlace personal. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"div",1),a.\u0275\u0275elementStart(7,"div",2),a.\u0275\u0275elementStart(8,"label",3),a.\u0275\u0275text(9," Nombre"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"nb-form-field"),a.\u0275\u0275element(11,"nb-icon",4),a.\u0275\u0275elementStart(12,"input",5),a.\u0275\u0275listener("ngModelChange",function(e){return t.filterName=e}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"div",2),a.\u0275\u0275elementStart(14,"label",6),a.\u0275\u0275text(15," Id"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(16,"nb-form-field"),a.\u0275\u0275element(17,"nb-icon",7),a.\u0275\u0275elementStart(18,"input",8),a.\u0275\u0275listener("ngModelChange",function(e){return t.filterId=e}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(19,"nb-list",9),a.\u0275\u0275template(20,b,24,16,"nb-list-item",10),a.\u0275\u0275pipe(21,"filter"),a.\u0275\u0275pipe(22,"filter"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(23,"nb-card-footer"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1("",t.title," "),a.\u0275\u0275advance(9),a.\u0275\u0275property("ngModel",t.filterName),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngModel",t.filterId),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind2(21,4,a.\u0275\u0275pipeBind2(22,7,t.surveys,t.filterName),t.filterId)))},directives:[i.Asz,i.yKW,i.jBG,i.fMN,i.t3q,i.h8i,h.Fj,h.JJ,h.On,i.zP_,o.NgForOf,i.XWE,i.qBV,i.k0$,i.lYD,i.Bk3,g.iL,g.q1],pipes:[v,o.DatePipe],styles:[""]}),e})();var S=n(92340),_=n(91841),E=n(17677),x=n(44368);function C(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",14),a.\u0275\u0275listener("removed",function(){const t=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().onRemove(t)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;a.\u0275\u0275property("removable",!0)("file",e),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1("",e.name," ")}}function w(e,t){if(1&e&&a.\u0275\u0275element(0,"nb-progress-bar",15),2&e){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("value",e.progress)}}let P=(()=>{class e{constructor(e,t,n){this._dialog=e,this._surveyService=t,this._fb=n,this.files=[],this.progress=0,this.form=this._fb.group({}),this.form.addControl("name",new h.NI("",h.kI.required))}ngOnInit(){}onSelect(e){this.files.push(...e.addedFiles)}onRemove(e){this.files.splice(this.files.indexOf(e),1)}onSubmit(){if(this.form.valid){this.loading=!0;const e=this._surveyService.toFormData(this.form.value);this.files.length>0&&e.append("file",this.files[0]),this._surveyService.addPopulation(e).subscribe({next:e=>{e.type===_.dt.UploadProgress&&(this.progress=Math.round(100*e.loaded/e.total)),e.type===_.dt.Response&&(1==e.body.type&&(this._surveyService.showToast("top rigth","success","Agregado Correctamente"),this._dialog.close((new E.H).deserialize(e.body.population))),2==e.body.type&&(this.message="Poblaci\xf3n no fue creada"),this.progress=0,this.loading=!1,this.error=!0)},error:e=>{this._surveyService.showToast("top rigth","danger",e),this.loading=!1,this.error=!0,this.progress=0,this.message=e.message}})}}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(i.X4l),a.\u0275\u0275directiveInject(m.F),a.\u0275\u0275directiveInject(h.qu))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["ngx-population-add"]],decls:50,vars:8,consts:[["size","large","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-12"],[1,"form-group","row"],["for","name",1,"label","col-sm-4","col-form-label"],[1,"col-sm-12",3,"formGroup"],["formControlName","name","type","text","nbInput","","fullWidth","","id","name","placeholder","Nombre de Campa\xf1a"],["nbInput","","fullWidth","","placeholder","Descripci\xf3n"],[2,"width","100%",3,"multiple","maxFileSize","change"],[3,"removable","file","removed",4,"ngFor","ngForOf"],[1,"form-group","col"],[3,"value",4,"ngIf"],[1,"col-sm-12","text-center"],["status","info","nbButton","",1,"text-center",3,"click"],[3,"removable","file","removed"],[3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"nb-card",0),a.\u0275\u0275elementStart(1,"nb-card-header"),a.\u0275\u0275text(2,"Agregar/Editar Ocupaci\xf3n"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"nb-card-body"),a.\u0275\u0275elementStart(4,"div",1),a.\u0275\u0275elementStart(5,"div",2),a.\u0275\u0275elementStart(6,"div",3),a.\u0275\u0275elementStart(7,"label",4),a.\u0275\u0275text(8,"Codigo"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"form",5),a.\u0275\u0275element(10,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"div",3),a.\u0275\u0275elementStart(12,"label",4),a.\u0275\u0275text(13,"Nombre"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"form",5),a.\u0275\u0275element(15,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(16,"div",3),a.\u0275\u0275elementStart(17,"label",4),a.\u0275\u0275text(18,"Descripci\xf3n"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(19,"form",5),a.\u0275\u0275element(20,"textarea",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(21,"div",3),a.\u0275\u0275elementStart(22,"label",4),a.\u0275\u0275text(23,"Icono"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(24,"ngx-dropzone",8),a.\u0275\u0275listener("change",function(e){return t.onSelect(e)}),a.\u0275\u0275template(25,C,3,3,"ngx-dropzone-image-preview",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(26,"div",10),a.\u0275\u0275elementStart(27,"label",4),a.\u0275\u0275text(28,"Habilidades"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(29,"nb-list"),a.\u0275\u0275elementStart(30,"nb-list-item"),a.\u0275\u0275text(31," Abogados "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(32,"nb-list-item"),a.\u0275\u0275text(33," Funcionarios de Programas Exclusivos de la Administraci\xf3n P\xfablica "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(34,"nb-list-item"),a.\u0275\u0275text(35," Asistentes Legales y Afines "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(36,"nb-list-item"),a.\u0275\u0275text(37," Periodistas "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(38,"nb-list-item"),a.\u0275\u0275text(39," Ocupaciones Profesionales en Relaciones P\xfablicas y Comunicaciones "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(40,"nb-list-item"),a.\u0275\u0275text(41," Otras Ocupaciones T\xe9cnicas en Cine, Televisi\xf3n y Artes Esc\xe9nicas n.c.a. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(42,"nb-list-item"),a.\u0275\u0275text(43," Jueces "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(44,w,1,1,"nb-progress-bar",11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(45,"nb-card-footer"),a.\u0275\u0275elementStart(46,"div",3),a.\u0275\u0275elementStart(47,"div",12),a.\u0275\u0275elementStart(48,"button",13),a.\u0275\u0275listener("click",function(){return t.onSubmit()}),a.\u0275\u0275text(49,"Crear"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("nbSpinner",t.loading),a.\u0275\u0275advance(9),a.\u0275\u0275property("formGroup",t.form),a.\u0275\u0275advance(5),a.\u0275\u0275property("formGroup",t.form),a.\u0275\u0275advance(5),a.\u0275\u0275property("formGroup",t.form),a.\u0275\u0275advance(5),a.\u0275\u0275property("multiple",!1)("maxFileSize","1000000"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",t.files),a.\u0275\u0275advance(19),a.\u0275\u0275property("ngIf",t.progress>0))},directives:[i.Asz,i.Q7R,i.ndF,i.yKW,h._Y,h.JL,h.sg,h.Fj,i.h8i,h.JJ,h.u,x._f,o.NgForOf,i.zP_,i.qBV,o.NgIf,i.XWE,i.DPz,x.sv,x.Jj,i.bSZ],styles:[""]}),e})();function O(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"nb-action",20),a.\u0275\u0275element(1,"nb-icon",2),a.\u0275\u0275elementStart(2,"swal",21,22),a.\u0275\u0275listener("confirm",function(){a.\u0275\u0275restoreView(e);const t=a.\u0275\u0275nextContext(),n=t.$implicit,i=t.index;return a.\u0275\u0275nextContext().activatePopulation(n,i)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){const e=a.\u0275\u0275reference(3),t=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("swal",e),a.\u0275\u0275advance(2),a.\u0275\u0275propertyInterpolate1("title","Seguro que desea Activar la campa\xf1a: ",null==t?null:t.name,"?"),a.\u0275\u0275property("showCancelButton",!0)("focusCancel",!0)}}function M(e,t){1&e&&(a.\u0275\u0275elementStart(0,"nb-action",23),a.\u0275\u0275element(1,"nb-icon",24),a.\u0275\u0275elementEnd())}function I(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"nb-list-item",7),a.\u0275\u0275element(1,"nb-user",8),a.\u0275\u0275elementStart(2,"nb-actions",9),a.\u0275\u0275elementStart(3,"nb-action",10),a.\u0275\u0275elementStart(4,"swal",11,12),a.\u0275\u0275listener("confirm",function(){const t=a.\u0275\u0275restoreView(e),n=t.$implicit,i=t.index;return a.\u0275\u0275nextContext().deletePopulation(n,i)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"nb-action",13),a.\u0275\u0275elementStart(7,"a",14),a.\u0275\u0275text(8),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(9," / "),a.\u0275\u0275elementStart(10,"a",14),a.\u0275\u0275text(11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"nb-action",15),a.\u0275\u0275elementStart(13,"a",14),a.\u0275\u0275element(14,"nb-icon",16),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(15,"nb-action",17),a.\u0275\u0275template(16,O,4,4,"nb-action",18),a.\u0275\u0275template(17,M,2,0,"ng-template",null,19,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=a.\u0275\u0275reference(5),i=a.\u0275\u0275reference(18),r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("badgeText",null!=e&&e.active?"Activa":"")("name",null==e?null:e.name),a.\u0275\u0275advance(2),a.\u0275\u0275property("swal",n),a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate1("title","Seguro que desea eliminar la campa\xf1a: ",null==e?null:e.name,"?"),a.\u0275\u0275property("showCancelButton",!0)("focusCancel",!0),a.\u0275\u0275advance(3),a.\u0275\u0275propertyInterpolate1("href","#/dashboard/audience/",null==e?null:e.id,"",a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",null==e?null:e.surveys.length," "),a.\u0275\u0275advance(2),a.\u0275\u0275propertyInterpolate1("href","#/dashboard/audience/",null==e?null:e.id,"",a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",null==e?null:e.surveyeds.length," "),a.\u0275\u0275advance(2),a.\u0275\u0275propertyInterpolate2("href","#/encuesta/",null==e?null:e.id,"/",r.user.id,"",a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(2),a.\u0275\u0275propertyInterpolate3("href","",r.environment.baseUrl.backend,"/report/",null==e?null:e.id,"/",r.user.id,""),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!(null!=e&&e.active))("ngIfElse",i)}}let z=(()=>{class e{constructor(e,t,n){this._dialogService=e,this._surveyService=t,this.user=null,this.active_population=null,this.environment=S.N,this.onActivate=new a.EventEmitter,n.getCurrentUser().subscribe(e=>this.user=e)}ngOnInit(){this.getPopulations()}addPopulation(e){e?this._dialogService.open(P,{context:e.id.toString()}):this._dialogService.open(P).onClose.subscribe(e=>{e&&(this.populations=[e].concat(this.populations))})}getPopulations(){this._surveyService.getPopulations().subscribe({next:e=>{this.populations=e,this.populations.map(e=>{e.active&&(this.active_population=e)})}})}deletePopulation(e,t){this._surveyService.delPopulations(e).subscribe({next:e=>{e&&this.populations.splice(t,1)}})}activatePopulation(e,t){this._surveyService.activePopulations(e).subscribe({next:e=>{e&&(this.populations=e,this.onActivate.emit(e))}})}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(i.Gln),a.\u0275\u0275directiveInject(m.F),a.\u0275\u0275directiveInject(u.e))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["ngx-populations-list"]],outputs:{onActivate:"onActivate"},decls:21,vars:1,consts:[["size","large"],[1,"caption"],["icon","play-circle-outline","status","success"],["status","info","size","small","nbButton","",1,"col","mt-2","text-right",3,"click"],["icon","plus-circle-outline"],[1,"row","mt-3"],["class","d-flex justify-content-between align-items-stretch",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-stretch"],["badgeStatus","success","badgePosition","bottom right","size","tiny",3,"badgeText","name"],["fullWidth","","size","small"],["title","Borrar Campa\xf1a","icon","trash-outline","status","warning",3,"swal"],["text","Esto no se puede deshacer","icon","question",3,"title","showCancelButton","focusCancel","confirm"],["deleteSwal",""],["title","Encuestados",1,"d-flex","justify-content-between"],["target","_blank",3,"href"],["status","info","title","Link"],["icon","link-outline"],["icon","download-outline","status","info","title","Descargar Reporte","target","_blank",3,"href"],["title","Activar",3,"swal",4,"ngIf","ngIfElse"],["pause",""],["title","Activar",3,"swal"],["text","Esto cambiar\xe1 la campa\xf1a activa actual","icon","question",3,"title","showCancelButton","focusCancel","confirm"],["activeSwal",""],["title","Desactivar"],["icon","stop-circle-outline","status","danger"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"nb-card",0),a.\u0275\u0275elementStart(1,"nb-card-body"),a.\u0275\u0275elementStart(2,"h2"),a.\u0275\u0275text(3," Campa\xf1as "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"p",1),a.\u0275\u0275text(5," Usted debe crear una campa\xf1a para cada periodo de aplicaci\xf3n de la encuesta. Las campa\xf1as ayudan a segmentar la encuesta por periodo o poblaci\xf3n. Tenga en cuenta que solo una campa\xf1a permanecer\xe1 activa "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"div"),a.\u0275\u0275elementStart(7,"b"),a.\u0275\u0275text(8,"Instrucciones*:"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(9,"p"),a.\u0275\u0275elementStart(10,"p"),a.\u0275\u0275text(11,"1. Dar clic en crear Campa\xf1a y seguir instrucciones"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"p"),a.\u0275\u0275text(13,"2. Activar la campa\xf1a creada, presionando el bot\xf3n "),a.\u0275\u0275element(14,"nb-icon",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(15,"button",3),a.\u0275\u0275listener("click",function(){return t.addPopulation()}),a.\u0275\u0275element(16,"nb-icon",4),a.\u0275\u0275text(17," Campa\xf1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(18,"nb-list",5),a.\u0275\u0275template(19,I,19,17,"nb-list-item",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(20,"nb-card-footer"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(19),a.\u0275\u0275property("ngForOf",t.populations))},directives:[i.Asz,i.yKW,i.fMN,i.DPz,i.zP_,o.NgForOf,i.XWE,i.qBV,i.k0$,i.lYD,i.Bk3,g.iL,g.q1,o.NgIf],styles:[""]}),e})();const j=["link"];function k(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",4),a.\u0275\u0275elementStart(1,"ngx-populations-list",11),a.\u0275\u0275listener("onActivate",function(t){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onActivate(t)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function A(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275elementStart(1,"mark"),a.\u0275\u0275elementStart(2,"b"),a.\u0275\u0275text(3," Enlace de Encuesta: "),a.\u0275\u0275elementStart(4,"a",12),a.\u0275\u0275elementStart(5,"b",13),a.\u0275\u0275text(6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(7,"p"),a.\u0275\u0275elementStart(8,"div",14),a.\u0275\u0275elementStart(9,"button",15),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().copyToClipBoard()}),a.\u0275\u0275element(10,"nb-icon",16),a.\u0275\u0275text(11," Copiar Enlace "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate2("href","#/encuesta/",null==e.active_population?null:e.active_population.id,"/",e.user.id,"",a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate3("",e.origin,"/#/encuesta/",null==e.active_population?null:e.active_population.id,"/",e.user.id,"")}}function F(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"p"),a.\u0275\u0275text(2,"Actualmente no hay campa\xf1as activas."),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function B(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",1),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275element(2,"ngx-surveys-table",10),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("title","Todas las encuestas")("surveys",e.surveys_all)("user",e.user)}}let q=(()=>{class e{constructor(e,t,n,i){this.clipboard=e,this._accessChecker=t,this._authService=n,this._surveyService=i,this.user=null,this.origin=window.location.origin,this.active_population=null,n.getCurrentUser().subscribe(e=>{this.user=e,this.getActivePopulations(),this.getSurveys(),t.isGranted("Register Admin","all")&&this.getSurveys_all()})}getActivePopulations(){this._surveyService.getPopulations().subscribe({next:e=>{this.populations=e,this.populations.map(e=>{e.active&&(this.active_population=e)})}})}getSurveys(){this.loading=!0,this._surveyService.getSurveys(this.user.id+"").subscribe({next:e=>{this.surveys=e,this.loading=!1}})}getSurveys_all(){this.loading=!0,this._surveyService.getSurveys("all").subscribe({next:e=>{this.surveys_all=e,this.loading=!1}})}onActivate(e){this.getActivePopulations(),this.getSurveys(),this._accessChecker.isGranted("Register Admin","all")&&this.getSurveys_all()}copyToClipBoard(){this.clipboard.copy(this.origin+"/#/encuesta/"+this.active_population.id+"/"+this.user.id),alert("Enlace copiado")}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(s),a.\u0275\u0275directiveInject(d.QH),a.\u0275\u0275directiveInject(u.e),a.\u0275\u0275directiveInject(m.F))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["ngx-dashboard"]],viewQuery:function(e,t){if(1&e&&a.\u0275\u0275viewQuery(j,5),2&e){let e;a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(t.link_container=e.first)}},decls:27,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-md-5"],["style","width: 100%",4,"ngIf"],[2,"width","100%"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"text-right","color-info"],[1,"col-md-7"],["class","row",4,"ngIf"],[3,"title","surveys","user"],[3,"onActivate"],["target","_blank",3,"href"],[1,"text-info"],[1,"mt-2"],["nbButton","","size","small","status","info",3,"click"],["icon","copy-outline"],[1,"dflex","flex-column","justify-content-center"],[1,"col-sm-12"]],template:function(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275template(3,k,2,0,"div",3),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementStart(5,"nb-card",4),a.\u0275\u0275elementStart(6,"nb-card-body"),a.\u0275\u0275elementStart(7,"div"),a.\u0275\u0275elementStart(8,"h2"),a.\u0275\u0275text(9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div"),a.\u0275\u0275element(11,"p"),a.\u0275\u0275elementStart(12,"b"),a.\u0275\u0275text(13,"Instrucci\xf3n*:"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(14,"p"),a.\u0275\u0275elementStart(15,"p"),a.\u0275\u0275text(16," Utilice este link para realizar la encuesta. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(17,A,12,5,"div",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(18,F,3,0,"ng-template",null,6,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(20,"nb-card-footer",7),a.\u0275\u0275elementStart(21,"b"),a.\u0275\u0275text(22),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(23,"div",8),a.\u0275\u0275template(24,B,3,3,"div",9),a.\u0275\u0275pipe(25,"async"),a.\u0275\u0275element(26,"ngx-surveys-table",10),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){const e=a.\u0275\u0275reference(19);a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(4,9,t._accessChecker.isGranted("Register Admin","all"))),a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate1("Hola ",t.user.name,","),a.\u0275\u0275advance(8),a.\u0275\u0275property("ngIf",t.active_population)("ngIfElse",e),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate1(" Campa\xf1a Activa: ",null==t.active_population?null:t.active_population.name," "),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(25,11,t._accessChecker.isGranted("Register Admin","all"))),a.\u0275\u0275advance(2),a.\u0275\u0275property("title","Mis Encuestas")("surveys",t.surveys)("user",t.user)}},directives:[o.NgIf,i.Asz,i.yKW,i.XWE,y,z,i.DPz,i.fMN],pipes:[o.AsyncPipe],encapsulation:2}),e})();var $=n(14398);let N=(()=>{class e{constructor(e){this._surveyService=e,this.added=new a.EventEmitter,this.surveyed={name:"",identification:"",last_name:"",population_id:""}}ngOnInit(){}onSubmit(){this.surveyed.population_id=this.population_id,this._surveyService.addSurveyed(this.surveyed).subscribe(e=>{this.added.emit(e),this.surveyed=new $.u})}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(m.F))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["ngx-surveyed-add"]],inputs:{population_id:"population_id"},outputs:{added:"added"},decls:11,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"inline-form-card"],[1,"form-inline"],["name","name","type","text","nbInput","","fullWidth","","placeholder","Nombre",3,"ngModel","ngModelChange"],["name","identification","type","text","nbInput","","fullWidth","","placeholder","ID",3,"ngModel","ngModelChange"],["nbButton","","status","primary",3,"click"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"nb-card",2),a.\u0275\u0275elementStart(3,"nb-card-header"),a.\u0275\u0275text(4,"Agregar Encuestado"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"nb-card-body"),a.\u0275\u0275elementStart(6,"form",3),a.\u0275\u0275elementStart(7,"input",4),a.\u0275\u0275listener("ngModelChange",function(e){return t.surveyed.name=e}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"input",5),a.\u0275\u0275listener("ngModelChange",function(e){return t.surveyed.identification=e}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"button",6),a.\u0275\u0275listener("click",function(){return t.onSubmit()}),a.\u0275\u0275text(10,"Agregar"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(7),a.\u0275\u0275property("ngModel",t.surveyed.name),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngModel",t.surveyed.identification))},directives:[i.Asz,i.ndF,i.yKW,h._Y,h.JL,h.F,i.h8i,h.Fj,h.JJ,h.On,i.DPz],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),e})();function K(e,t){1&e&&(a.\u0275\u0275elementStart(0,"span",18),a.\u0275\u0275text(1,"Finalizada"),a.\u0275\u0275elementEnd())}function U(e,t){1&e&&(a.\u0275\u0275elementStart(0,"span",19),a.\u0275\u0275text(1,"En progreso"),a.\u0275\u0275elementEnd())}function V(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"nb-action"),a.\u0275\u0275template(1,K,2,0,"span",16),a.\u0275\u0275template(2,U,2,0,"span",17),a.\u0275\u0275elementEnd()),2&e){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.survey.isFinished),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.survey.isFinished)}}function D(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"nb-action"),a.\u0275\u0275elementStart(1,"a",20),a.\u0275\u0275element(2,"nb-icon",21),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate2("href","#/encuesta/1/",e.survey.user_id,"/",e.survey.uuid,"",a.\u0275\u0275sanitizeUrl)}}function T(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"nb-list-item",8),a.\u0275\u0275element(1,"nb-user",9),a.\u0275\u0275elementStart(2,"nb-actions",10),a.\u0275\u0275template(3,V,3,2,"nb-action",11),a.\u0275\u0275template(4,D,3,2,"nb-action",11),a.\u0275\u0275elementStart(5,"nb-action",12),a.\u0275\u0275element(6,"nb-icon",13),a.\u0275\u0275elementStart(7,"span"),a.\u0275\u0275text(8,"Borrar"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"swal",14,15),a.\u0275\u0275listener("confirm",function(){const t=a.\u0275\u0275restoreView(e),n=t.$implicit,i=t.index;return a.\u0275\u0275nextContext().deleteSurveyed(n,i)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=a.\u0275\u0275reference(10);a.\u0275\u0275advance(1),a.\u0275\u0275property("name",e.name)("title",e.identification),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.survey),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.survey),a.\u0275\u0275advance(1),a.\u0275\u0275property("swal",n),a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate1("title","Seguro que desea eliminar al encuestado ",e.name,"?"),a.\u0275\u0275property("showCancelButton",!0)("focusCancel",!0)}}let W=(()=>{class e{constructor(e,t,n,i){this._surveyService=t,this._dialogService=n,this._Activatedroute=i}ngOnInit(){this.population_id=this._Activatedroute.snapshot.paramMap.get("population_id"),this.getPopulations(this.population_id)}getPopulations(e){this._surveyService.getPopulation(e).subscribe({next:e=>{this.population=e}})}deleteSurveyed(e,t){this._surveyService.deleteSurveyed(e).subscribe({next:e=>{this.population.surveyeds.splice(t,1),this._surveyService.showToast("rigth","success","Borrado Correctamente")}})}onAdded(e){const t=[e].concat(this.population.surveyeds);this.population.surveyeds=t,this._surveyService.showToast("rigth","success","Agregado Correctamente")}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(u.e),a.\u0275\u0275directiveInject(m.F),a.\u0275\u0275directiveInject(i.Gln),a.\u0275\u0275directiveInject(p.gz))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["ngx-population-view"]],decls:13,vars:5,consts:[[1,"col-md-8","offset-md-2"],[3,"population_id","added"],[1,"row"],[1,"col-md-12"],["size","large",1,"list-card"],[1,"d-flex","justify-content-between"],[1,"label","text-left"],["class","d-flex justify-content-between","role","list",4,"ngFor","ngForOf"],["role","list",1,"d-flex","justify-content-between"],[3,"name","title"],["size","small","fullWidth","",1,"d-flex","justify-content-between"],[4,"ngIf"],["href","#",3,"swal"],["icon","trash-2-outline",1,"action-icon"],["text","Esto no se puede deshacer","icon","question",3,"title","showCancelButton","focusCancel","confirm"],["deleteSwal",""],["class","text-success",4,"ngIf"],["class","text-info",4,"ngIf"],[1,"text-success"],[1,"text-info"],["target","_blank",3,"href"],["icon","external-link-outline","status","info"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"ngx-surveyed-add",1),a.\u0275\u0275listener("added",function(e){return t.onAdded(e)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275elementStart(3,"div",3),a.\u0275\u0275elementStart(4,"nb-card",4),a.\u0275\u0275elementStart(5,"nb-card-header",5),a.\u0275\u0275elementStart(6,"div"),a.\u0275\u0275text(7),a.\u0275\u0275elementStart(8,"div",6),a.\u0275\u0275text(9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(10,"div"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"nb-list"),a.\u0275\u0275template(12,T,11,8,"nb-list-item",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("population_id",null==t.population?null:t.population.id),a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate1(" Campa\xf1a: ",null==t.population?null:t.population.name," "),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2(" Encuestados: ",null==t.population?null:t.population.surveyeds.length," / Encuestas: ",null==t.population?null:t.population.surveys.length," "),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",null==t.population?null:t.population.surveyeds))},directives:[N,i.Asz,i.ndF,i.zP_,o.NgForOf,i.qBV,i.k0$,i.lYD,o.NgIf,i.Bk3,g.iL,i.fMN,g.q1],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap";.nb-theme-default   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-default   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-default   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-dark   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-dark   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-dark   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-cosmic   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-corporate   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-corporate   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-corporate   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-material-dark   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-material-dark   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-material-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-material-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-material-dark   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-material-light   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-material-light   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-material-light   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-material-light   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-material-light   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-obsrio   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-obsrio   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-obsrio   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-obsrio   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-obsrio   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}']}),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({imports:[[o.CommonModule,i.CG_,i.nKr,i.zyh,i.IIj],o.CommonModule]}),e})();const G=[{path:"",component:q},{path:"audience/:population_id",component:W},{path:"encuesta/:id",loadChildren:"app/pages/onu-mujeres/onu-mujeres-routing.module#OnuMujeresRoutingModule"}];let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({imports:[[i.zyh,r.O,i.KdK,d.KQ,i.COg,i.zyh,i.MAY,i.nKr,i.T2N,i.uuI,i.j7H.forChild(),x.bB,i.DfH,h.UX,h.u5,c,p.Bz.forChild(G),g.ii,i.AE1,i.V7y,R,f],p.Bz]}),e})()}}]);