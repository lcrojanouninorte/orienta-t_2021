!function(){"use strict";function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,u=r(e);if(t){var o=r(this).constructor;i=Reflect.construct(u,arguments,o)}else i=u.apply(this,arguments);return n(this,i)}}function n(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[356],{54323:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(9872),i=["years","months","weeks","days","hours","minutes","seconds"];function u(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=(null==t?void 0:t.format)||i,u=(null==t?void 0:t.locale)||r.Z,o=(null==t?void 0:t.zero)||!1,s=(null==t?void 0:t.delimiter)||" ",a=n.reduce(function(t,n){var r="x".concat(n.replace(/(^.)/,function(e){return e.toUpperCase()}));return"number"==typeof e[n]&&(o||e[n])?t.concat(u.formatDistance(r,e[n])):t},[]).join(s);return a}},59852:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(94513),i=n(43463);function u(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),u=(0,r.Z)(t),o=n.getTime()-u.getTime();return o<0?-1:o>0?1:o}function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),u=(0,r.Z)(t);return n.getFullYear()-u.getFullYear()}function s(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),s=(0,r.Z)(t),a=u(n,s),c=Math.abs(o(n,s));n.setFullYear(1584),s.setFullYear(1584);var l=u(n,s)===-a,h=a*(c-Number(l));return 0===h?0:h}function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),u=(0,r.Z)(t),o=n.getFullYear()-u.getFullYear(),s=n.getMonth()-u.getMonth();return 12*o+s}function c(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(23,59,59,999),t}function l(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function h(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e);return c(t).getTime()===l(t).getTime()}function f(e,t){(0,i.Z)(2,arguments);var n,o=(0,r.Z)(e),s=(0,r.Z)(t),c=u(o,s),l=Math.abs(a(o,s));if(l<1)n=0;else{1===o.getMonth()&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-c*l);var f=u(o,s)===-c;h((0,r.Z)(e))&&1===l&&1===u(e,s)&&(f=!1),n=c*(l-Number(f))}return 0===n?0:n}var d=n(95729);function p(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(0,0,0,0),t}var v=864e5;function g(e,t){(0,i.Z)(2,arguments);var n=p(e),r=p(t),u=n.getTime()-(0,d.Z)(n),o=r.getTime()-(0,d.Z)(r);return Math.round((u-o)/v)}function y(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function b(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),u=(0,r.Z)(t),o=y(n,u),s=Math.abs(g(n,u));n.setDate(n.getDate()-o*s);var a=Number(y(n,u)===-o),c=o*(s-a);return 0===c?0:c}function m(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),u=(0,r.Z)(t);return n.getTime()-u.getTime()}var Z=36e5;function w(e,t){(0,i.Z)(2,arguments);var n=m(e,t)/Z;return n>0?Math.floor(n):Math.ceil(n)}function k(e,t){(0,i.Z)(2,arguments);var n=m(e,t)/6e4;return n>0?Math.floor(n):Math.ceil(n)}function _(e,t){(0,i.Z)(2,arguments);var n=m(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var z=n(23246),O=n(20207);function E(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),u=(0,O.Z)(t);return isNaN(u)?new Date(NaN):(u&&n.setDate(n.getDate()+u),n)}function M(e,t){(0,i.Z)(2,arguments);var n=(0,O.Z)(t);return E(e,-n)}function S(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),u=(0,O.Z)(t);if(isNaN(u))return new Date(NaN);if(!u)return n;var o=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+u+1,0);var a=s.getDate();return o>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),o),n)}function q(e,t){(0,i.Z)(2,arguments);var n=(0,O.Z)(t);return S(e,-n)}function F(e,t){if((0,i.Z)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var n=t.years?(0,O.Z)(t.years):0,u=t.months?(0,O.Z)(t.months):0,o=t.weeks?(0,O.Z)(t.weeks):0,s=t.days?(0,O.Z)(t.days):0,a=t.hours?(0,O.Z)(t.hours):0,c=t.minutes?(0,O.Z)(t.minutes):0,l=t.seconds?(0,O.Z)(t.seconds):0,h=q((0,r.Z)(e),u+12*n),f=M(h,s+7*o),d=c+60*a,p=l+60*d,v=1e3*p,g=new Date(f.getTime()-v);return g}function P(e){var t=e.start,n=e.end;(0,i.Z)(1,arguments);var o=(0,r.Z)(t),a=(0,r.Z)(n);if(!(0,z.Z)(o))throw new RangeError("Start Date is invalid");if(!(0,z.Z)(a))throw new RangeError("End Date is invalid");var c={years:0,months:0,days:0,hours:0,minutes:0,seconds:0},l=u(o,a);c.years=Math.abs(s(o,a));var h=F(o,{years:l*c.years});c.months=Math.abs(f(h,a));var d=F(h,{months:l*c.months});c.days=Math.abs(b(d,a));var p=F(d,{days:l*c.days});c.hours=Math.abs(w(p,a));var v=F(p,{hours:l*c.hours});c.minutes=Math.abs(k(v,a));var g=F(v,{minutes:l*c.minutes});return c.seconds=Math.abs(_(g,a)),c}},28788:function(n,r,u){u.d(r,{F:function(){return F}});var s,a=u(3679),c=u(17102),l=u(68307),h=u(5304),f=u(88002),d=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this}}]),e}(),p=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return e.name=e.first_name+" "+e.last_name,Object.assign(this,e),this}}]),e}(),v=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.surveyeds&&e.surveyeds.map(function(e){return(new p).deserialize(e)}),this}}]),e}(),g=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this}}]),e}(),y=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.onets&&e.onets.map(function(e){return(new g).deserialize(e)}),this}}]),e}(),b=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.pps&&(new y).deserialize(e.pps),this}}]),e}(),m=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.checked=1==e.checked,this}}]),e}(),Z=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.question&&e.question.map(function(e){return(new k).deserialize(e)}),this}}]),e}(),w=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this}}]),e}(),k=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return e.validators=new Array,e.required&&e.validators.push(a.kI.required),e.isEmail&&e.validators.push(a.kI.email),e.show=!0,this.conditions&&e.options.map(function(e){return(new Z).deserialize(e)}),this.answers&&e.answers.map(function(e){return(new m).deserialize(e)}),this.options&&e.options.map(function(e){return(new w).deserialize(e)}),this.checked="1"==e.checked,this}}]),e}(),_=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){var t=this;Object.assign(this,e);var n=new Array;return this.questions&&e.questions.map(function(e){(new k).deserialize(e)}),this.questions.map(function(e){e.conditions.map(function(e){n.push(e)})}),n.map(function(e){t.questions.map(function(t,n){e.restriction_id==t.id&&(e.question_index=n)})}),this}}]),e}(),z=function(){function e(){i(this,e)}return o(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.surveyed&&(new p).deserialize(e.surveyed),this}}]),e}(),O=u(39205),E=u(37716),M=u(12426),S=u(94720),q=function(e){return"populations/".concat(e)},F=((s=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(u,n);var r=t(u);function u(e,t){var n;return i(this,u),(n=r.call(this,t))._http=e,n._nbService=t,n}return o(u,[{key:"getAllSections",value:function(){var e=this;return this._http.get("sections").pipe((0,l.b)(function(t){return e.log("Fetched Sections")}),(0,h.K)(this.handleError("getAll",[])),(0,f.U)(function(e){return e.map(function(e){return(new _).deserialize(e)})}))}},{key:"getSingleSection",value:function(e,t){return this._http.get((n=t,r=e,"sections/".concat(n,"/").concat(r))).pipe((0,f.U)(function(e){return(new _).deserialize(e)}));var n,r}},{key:"getAllQuestions",value:function(){var e=this;return this._http.get("questions").pipe((0,l.b)(function(t){return e.log("Fetched Questions")}),(0,h.K)(this.handleError("getAll",[])),(0,f.U)(function(e){return e.map(function(e){return(new k).deserialize(e)})}))}},{key:"updateQuestion",value:function(e){var t,n=this;return this._http.put((t=e.id,"questions/".concat(t)),e).pipe((0,l.b)(function(t){return n.log("Updated role id=".concat(e.id))}),(0,h.K)(this.handleError("updateQuestion")))}},{key:"addOption",value:function(e){var t=this;return this._http.post("options",e).pipe((0,l.b)(function(n){return t.log("Add Option id=".concat(e.id))}),(0,h.K)(this.handleError("addOption")))}},{key:"deleteOption",value:function(e){var t,n=this;return this._http.delete((t=e.id,"options/".concat(t))).pipe((0,l.b)(function(t){return n.log("Deleted Option id=".concat(e.id))}),(0,h.K)(this.handleError("deleteOption")))}},{key:"addOrUpdateSurvey",value:function(e){var t=this;return this._http.postFormData("surveys",e,{reportProgress:!0,observe:"events"}).pipe((0,l.b)(function(e){return t.log("create Survey ")}),(0,h.K)(this.handleError("Survey")))}},{key:"createOrGetSurvey",value:function(e){var t=this;return this._http.postFormData("surveys/gateway",e,{reportProgress:!0,observe:"events"}).pipe((0,l.b)(function(e){return t.log("create Survey ")}),(0,h.K)(this.handleError("Survey")))}},{key:"getSingleUser",value:function(e){return this._http.get((t=e,"users/".concat(t))).pipe((0,h.K)(this.handleError("getSingle",[])),(0,f.U)(function(e){return(new O.n).deserialize(e)}));var t}},{key:"getSurveys",value:function(e){var t,n=this;return this._http.get((t=e,"surveys/".concat(t))).pipe((0,l.b)(function(e){return n.log("Fetched Surveys")}),(0,h.K)(this.handleError("getAll",[])),(0,f.U)(function(e){return e.map(function(e){return(new z).deserialize(e)})}))}},{key:"getSurvey",value:function(e){var t,n=this;return this._http.get((t=e,"surveys/uuid/".concat(t))).pipe((0,l.b)(function(e){return n.log("Fetched Surveys")}),(0,h.K)(this.handleError("getAll",[])),(0,f.U)(function(e){return(new z).deserialize(e)}))}},{key:"getPpsRank",value:function(e){var t,n=this;return this._http.get((t=e,"pps/".concat(t))).pipe((0,l.b)(function(e){return n.log("Fetched Pps")}),(0,h.K)(this.handleError("getAll",[])),(0,f.U)(function(e){return e.map(function(e){return(new b).deserialize(e)})}))}},{key:"getOccupationByTitle",value:function(e){var t,n=this;return this._http.get((t=e,"occupation/".concat(t))).pipe((0,l.b)(function(e){return n.log("Fetched getOccupations")}),(0,h.K)(this.handleError("getAll",[])),(0,f.U)(function(e){return(new d).deserialize(e)}))}},{key:"getOccupationsBylevel",value:function(e,t){var n,r,i=this;return this._http.get((n=e,r=t,"occupations/".concat(n,"/").concat(r))).pipe((0,l.b)(function(e){return i.log("Fetched getOccupations")}),(0,h.K)(this.handleError("getAll",[])),(0,f.U)(function(e){return e.map(function(e){return(new d).deserialize(e)})}))}},{key:"getPopulations",value:function(){var e=this;return this._http.get("populations").pipe((0,l.b)(function(t){return e.log("Fetched Population")}),(0,h.K)(this.handleError("Population",[])),(0,f.U)(function(e){return e.map(function(e){return(new v).deserialize(e)})}))}},{key:"addPopulation",value:function(e){var t=this;return this._http.postFormData("populations",e,{reportProgress:!0,observe:"events"}).pipe((0,l.b)(function(e){return t.log("create Population ")}),(0,h.K)(this.handleError("Population")))}},{key:"getPopulation",value:function(e){var t=this;return this._http.get(q(e)).pipe((0,l.b)(function(e){return t.log("Fetched Population")}),(0,h.K)(this.handleError("getAll",[])),(0,f.U)(function(e){return(new v).deserialize(e)}))}},{key:"delPopulations",value:function(e){var t=this,n=q(e.id+"");return this._http.delete(n).pipe((0,l.b)(function(n){return t.log("deleted Population id=".concat(e.id))}),(0,h.K)(this.handleError("deletePopulation")))}},{key:"activePopulations",value:function(e){var t,n=this,r=(t=e.id+"","populations/activate/".concat(t));return this._http.post(r).pipe((0,l.b)(function(e){return n.log("Fetched Population")}),(0,h.K)(this.handleError("Population",[])),(0,f.U)(function(e){return e.map(function(e){return(new v).deserialize(e)})}))}},{key:"addSurveyed",value:function(e){var t=this;return this._http.post("surveyeds",e).pipe((0,l.b)(function(n){return t.log("Add Surveyed id=".concat(e.id))}),(0,h.K)(this.handleError("addSurveyedn")),(0,f.U)(function(e){return(new p).deserialize(e)}))}},{key:"deleteSurveyed",value:function(e){var t,n=this,r=(t=e.id+"","surveyeds/".concat(t));return this._http.delete(r).pipe((0,l.b)(function(t){return n.log("deleted Surveyed id=".concat(e.id))}),(0,h.K)(this.handleError("deletePopulation")))}},{key:"deleteSurvey",value:function(e){var t,n=this,r=(t=e.id+"","surveys/".concat(t));return this._http.delete(r).pipe((0,l.b)(function(t){return n.log("deleted Survey id=".concat(e.id))}),(0,h.K)(this.handleError("deletePopulation")))}},{key:"setTableData",value:function(e,t){var n=this;return this._http.postFormData(e,t,{reportProgress:!0,observe:"events"}).pipe((0,l.b)(function(e){return n.log("create Survey ")}))}},{key:"getTableData",value:function(e){var t=this;return this._http.get(e).pipe((0,l.b)(function(e){return t.log("Fetched tableRoute")}),(0,h.K)(this.handleError("tableRoute",[])))}},{key:"eval_conditions",value:function(e,t,n,r){e.questions.map(function(e){e.conditions.length>0&&e.conditions.forEach(function(e){e.value.split(",").includes(n+"")?(t.get(e.question.label).setValidators(null),t.get(e.question.label).updateValueAndValidity(),r.questions?r.questions[e.question_index].show=!1:r[e.question_index].show=!1):(t.get(e.question.label).setValidators(a.kI.required),t.get(e.question.label).updateValueAndValidity(),t.get(e.question.label).enable(),r.questions?r.questions[e.question_index].show=!0:r[e.question_index].show=!0)})})}}]),u}(c.b)).\u0275fac=function(e){return new(e||s)(E.\u0275\u0275inject(M.s),E.\u0275\u0275inject(S.quB))},s.\u0275prov=E.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s)}}])}();