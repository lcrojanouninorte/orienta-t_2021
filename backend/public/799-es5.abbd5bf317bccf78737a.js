!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=o(e);if(t){var a=o(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r(this,n)}}function r(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[799],{17677:function(e,t,n){n.d(t,{H:function(){return r}});var i=n(14398),r=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.surveyeds&&e.surveyeds.map(function(e){return(new i.u).deserialize(e)}),this}}]),e}()},14398:function(e,t,n){n.d(t,{u:function(){return i}});var i=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return e.name=e.first_name+" "+e.last_name,Object.assign(this,e),this}}]),e}()},91457:function(e,t,r){r.d(t,{F:function(){return M}});var o=r(3679),l=r(17102),u=r(68307),c=r(5304),d=r(88002),m=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this}}]),e}(),p=r(17677),f=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this}}]),e}(),h=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.onets&&e.onets.map(function(e){return(new f).deserialize(e)}),this}}]),e}(),v=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.pps&&(new h).deserialize(e.pps),this}}]),e}(),g=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.checked=1==e.checked,this}}]),e}(),y=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.question&&e.question.map(function(e){return(new S).deserialize(e)}),this}}]),e}(),b=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this}}]),e}(),S=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return e.validators=new Array,e.required&&e.validators.push(o.kI.required),e.isEmail&&e.validators.push(o.kI.email),e.show=!0,this.conditions&&e.options.map(function(e){return(new y).deserialize(e)}),this.answers&&e.answers.map(function(e){return(new g).deserialize(e)}),this.options&&e.options.map(function(e){return(new b).deserialize(e)}),this.checked="1"==e.checked,this}}]),e}(),_=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){var t=this;Object.assign(this,e);var n=new Array;return this.questions&&e.questions.map(function(e){(new S).deserialize(e)}),this.questions.map(function(e){e.conditions.map(function(e){n.push(e)})}),n.map(function(e){t.questions.map(function(t,n){e.restriction_id==t.id&&(e.question_index=n)})}),this}}]),e}(),E=r(14398),x=function(){function e(){a(this,e)}return s(e,[{key:"deserialize",value:function(e){return Object.assign(this,e),this.surveyed&&(new E.u).deserialize(e.surveyed),this}}]),e}(),C=r(39205),w=r(37716),P=r(12426),O=r(94720),k=function(e){return"populations/".concat(e)},M=function(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(r,e);var t=i(r);function r(e,n){var i;return a(this,r),(i=t.call(this,n))._http=e,i._nbService=n,i}return s(r,[{key:"getAllSections",value:function(){var e=this;return this._http.get("sections").pipe((0,u.b)(function(t){return e.log("Fetched Sections")}),(0,c.K)(this.handleError("getAll",[])),(0,d.U)(function(e){return e.map(function(e){return(new _).deserialize(e)})}))}},{key:"getSingleSection",value:function(e,t){return this._http.get(function(e,t){return"sections/".concat(e,"/").concat(t)}(t,e)).pipe((0,d.U)(function(e){return(new _).deserialize(e)}))}},{key:"getAllQuestions",value:function(){var e=this;return this._http.get("questions").pipe((0,u.b)(function(t){return e.log("Fetched Questions")}),(0,c.K)(this.handleError("getAll",[])),(0,d.U)(function(e){return e.map(function(e){return(new S).deserialize(e)})}))}},{key:"updateQuestion",value:function(e){var t,n=this;return this._http.put((t=e.id,"questions/".concat(t)),e).pipe((0,u.b)(function(t){return n.log("Updated role id=".concat(e.id))}),(0,c.K)(this.handleError("updateQuestion")))}},{key:"addOption",value:function(e){var t=this;return this._http.post("options",e).pipe((0,u.b)(function(n){return t.log("Add Option id=".concat(e.id))}),(0,c.K)(this.handleError("addOption")))}},{key:"deleteOption",value:function(e){var t,n=this;return this._http.delete((t=e.id,"options/".concat(t))).pipe((0,u.b)(function(t){return n.log("Deleted Option id=".concat(e.id))}),(0,c.K)(this.handleError("deleteOption")))}},{key:"addOrUpdateSurvey",value:function(e){var t=this;return this._http.postFormData("surveys",e,{reportProgress:!0,observe:"events"}).pipe((0,u.b)(function(e){return t.log("create Survey ")}),(0,c.K)(this.handleError("Survey")))}},{key:"createOrGetSurvey",value:function(e){var t=this;return this._http.postFormData("surveys/gateway",e,{reportProgress:!0,observe:"events"}).pipe((0,u.b)(function(e){return t.log("create Survey ")}),(0,c.K)(this.handleError("Survey")))}},{key:"getSingleUser",value:function(e){return this._http.get((t=e,"users/".concat(t))).pipe((0,c.K)(this.handleError("getSingle",[])),(0,d.U)(function(e){return(new C.n).deserialize(e)}));var t}},{key:"getSurveys",value:function(e){var t,n=this;return this._http.get((t=e,"surveys/".concat(t))).pipe((0,u.b)(function(e){return n.log("Fetched Surveys")}),(0,c.K)(this.handleError("getAll",[])),(0,d.U)(function(e){return e.map(function(e){return(new x).deserialize(e)})}))}},{key:"getSurvey",value:function(e){var t,n=this;return this._http.get((t=e,"surveys/uuid/".concat(t))).pipe((0,u.b)(function(e){return n.log("Fetched Surveys")}),(0,c.K)(this.handleError("getAll",[])),(0,d.U)(function(e){return(new x).deserialize(e)}))}},{key:"getPpsRank",value:function(e){var t,n=this;return this._http.get((t=e,"pps/".concat(t))).pipe((0,u.b)(function(e){return n.log("Fetched Pps")}),(0,c.K)(this.handleError("getAll",[])),(0,d.U)(function(e){return e.map(function(e){return(new v).deserialize(e)})}))}},{key:"getOccupationByTitle",value:function(e){var t,n=this;return this._http.get((t=e,"occupation/".concat(t))).pipe((0,u.b)(function(e){return n.log("Fetched getOccupations")}),(0,c.K)(this.handleError("getAll",[])),(0,d.U)(function(e){return(new m).deserialize(e)}))}},{key:"getOccupationsBylevel",value:function(e,t){var n=this;return this._http.get(function(e,t){return"occupations/".concat(e,"/").concat(t)}(e,t)).pipe((0,u.b)(function(e){return n.log("Fetched getOccupations")}),(0,c.K)(this.handleError("getAll",[])),(0,d.U)(function(e){return e.map(function(e){return(new m).deserialize(e)})}))}},{key:"getPopulations",value:function(){var e=this;return this._http.get("populations").pipe((0,u.b)(function(t){return e.log("Fetched Population")}),(0,c.K)(this.handleError("Population",[])),(0,d.U)(function(e){return e.map(function(e){return(new p.H).deserialize(e)})}))}},{key:"addPopulation",value:function(e){var t=this;return this._http.postFormData("populations",e,{reportProgress:!0,observe:"events"}).pipe((0,u.b)(function(e){return t.log("create Population ")}),(0,c.K)(this.handleError("Population")))}},{key:"getPopulation",value:function(e){var t=this;return this._http.get(k(e)).pipe((0,u.b)(function(e){return t.log("Fetched Population")}),(0,c.K)(this.handleError("getAll",[])),(0,d.U)(function(e){return(new p.H).deserialize(e)}))}},{key:"delPopulations",value:function(e){var t=this,n=k(e.id+"");return this._http.delete(n).pipe((0,u.b)(function(n){return t.log("deleted Population id=".concat(e.id))}),(0,c.K)(this.handleError("deletePopulation")))}},{key:"activePopulations",value:function(e){var t,n=this,i=(t=e.id+"","populations/activate/".concat(t));return this._http.post(i).pipe((0,u.b)(function(e){return n.log("Fetched Population")}),(0,c.K)(this.handleError("Population",[])),(0,d.U)(function(e){return e.map(function(e){return(new p.H).deserialize(e)})}))}},{key:"addSurveyed",value:function(e){var t=this;return this._http.post("surveyeds",e).pipe((0,u.b)(function(n){return t.log("Add Surveyed id=".concat(e.id))}),(0,c.K)(this.handleError("addSurveyedn")),(0,d.U)(function(e){return(new E.u).deserialize(e)}))}},{key:"deleteSurveyed",value:function(e){var t,n=this,i=(t=e.id+"","surveyeds/".concat(t));return this._http.delete(i).pipe((0,u.b)(function(t){return n.log("deleted Surveyed id=".concat(e.id))}),(0,c.K)(this.handleError("deletePopulation")))}},{key:"deleteSurvey",value:function(e){var t,n=this,i=(t=e.id+"","surveys/".concat(t));return this._http.delete(i).pipe((0,u.b)(function(t){return n.log("deleted Survey id=".concat(e.id))}),(0,c.K)(this.handleError("deletePopulation")))}},{key:"eval_conditions",value:function(e,t,n,i){e.questions.map(function(e){e.conditions.length>0&&e.conditions.forEach(function(e){e.value.split(",").includes(n+"")?(t.get(e.question.label).setValidators(null),t.get(e.question.label).updateValueAndValidity(),i.questions?i.questions[e.question_index].show=!1:i[e.question_index].show=!1):(t.get(e.question.label).setValidators(o.kI.required),t.get(e.question.label).updateValueAndValidity(),t.get(e.question.label).enable(),i.questions?i.questions[e.question_index].show=!0:i[e.question_index].show=!0)})})}}]),r}(l.b);return e.\u0275fac=function(t){return new(t||e)(w.\u0275\u0275inject(P.s),w.\u0275\u0275inject(O.quB))},e.\u0275prov=w.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},3799:function(t,n,i){i.r(n),i.d(n,{DashboardModule:function(){return L}});var r=i(94720),o=i(35751),l=i(37716),u=i(38583),c=function(){function e(t,n){a(this,e),this._document=n;var i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=t,this._document.body.appendChild(i)}return s(e,[{key:"copy",value:function(){var e=this._textarea,t=!1;try{if(e){var n=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),n&&n.focus()}}catch(i){}return t}},{key:"destroy",value:function(){var e=this._textarea;e&&(e.parentNode&&e.parentNode.removeChild(e),this._textarea=void 0)}}]),e}(),d=function(){var e=function(){function e(t){a(this,e),this._document=t}return s(e,[{key:"copy",value:function(e){var t=this.beginCopy(e),n=t.copy();return t.destroy(),n}},{key:"beginCopy",value:function(e){return new c(e,this._document)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(u.DOCUMENT))},e.\u0275prov=l.\u0275\u0275defineInjectable({factory:function(){return new e(l.\u0275\u0275inject(u.DOCUMENT))},token:e,providedIn:"root"}),e}(),m=function(){var e=function e(){a(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({}),e}(),p=i(51938),f=i(31479),h=i(91457),v=i(43424),g=i(3679),y=i(50686),b=function(){var e=function(){function e(){a(this,e)}return s(e,[{key:"transform",value:function(t,n){return n&&t?e.filter(t,n):t}}],[{key:"filter",value:function(e,t){var n=t.toLowerCase();function i(e,t){for(var r in e)if(null!==e[r]&&null!=e[r]&&("object"==typeof e[r]&&i(e[r],t)||e[r].toString().toLowerCase().includes(n)))return!0;return!1}return e.filter(function(e){return i(e,t)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=l.\u0275\u0275definePipe({name:"filter",type:e,pure:!1}),e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),S=function(){var e=function e(){a(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({}),e}();function _(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"nb-list-item",11),l.\u0275\u0275element(1,"nb-user",12),l.\u0275\u0275elementStart(2,"nb-actions",13),l.\u0275\u0275elementStart(3,"nb-action",14),l.\u0275\u0275elementStart(4,"p",15),l.\u0275\u0275elementStart(5,"b"),l.\u0275\u0275text(6,"Desde:"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"p"),l.\u0275\u0275text(8),l.\u0275\u0275pipe(9,"date"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(10,"nb-action",16),l.\u0275\u0275elementStart(11,"p",15),l.\u0275\u0275elementStart(12,"b"),l.\u0275\u0275text(13,"Hasta:"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(14,"p"),l.\u0275\u0275text(15),l.\u0275\u0275pipe(16,"date"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(17,"nb-action",17),l.\u0275\u0275elementStart(18,"a",18),l.\u0275\u0275element(19,"nb-icon",19),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(20,"nb-action",20),l.\u0275\u0275element(21,"nb-icon",21),l.\u0275\u0275elementStart(22,"swal",22,23),l.\u0275\u0275listener("confirm",function(){var e=l.\u0275\u0275restoreView(n),t=e.$implicit,i=e.index;return l.\u0275\u0275nextContext().delete_survey(t,i)}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var i=t.$implicit,r=l.\u0275\u0275reference(23),o=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("name",null==i||null==i.surveyed?null:i.surveyed.name)("title",null==i||null==i.surveyed?null:i.surveyed.identification),l.\u0275\u0275advance(7),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind2(9,10,null==i?null:i.created_at,"medium")),l.\u0275\u0275advance(7),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind2(16,13,null==i?null:i.updated_at,"medium")),l.\u0275\u0275advance(3),l.\u0275\u0275propertyInterpolate2("href","#/encuesta/1/",o.user.id,"/",i.uuid,"",l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(2),l.\u0275\u0275property("swal",r),l.\u0275\u0275advance(2),l.\u0275\u0275propertyInterpolate1("title","Seguro que desea eliminar la encuesta de ",i.surveyed.name,"?"),l.\u0275\u0275property("showCancelButton",!0)("focusCancel",!0)}}var E=function(){var e=function(){function e(t,n,i,r){a(this,e),this._Activatedroute=t,this._surveyService=n,this._accessChecker=i,this._router=r,this.filterargs={name:"luis"},this.filterName="",this.filterId=""}return s(e,[{key:"ngOnInit",value:function(){}},{key:"view_survey",value:function(e){this._router.navigate(["encuesta",1,this.user.id,e.uuid])}},{key:"delete_survey",value:function(e,t){var n=this;this._surveyService.deleteSurvey(e).subscribe({next:function(e){n.surveys.splice(t,1),n._surveyService.showToast("rigth","success","Borrado Correctamente")}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(v.gz),l.\u0275\u0275directiveInject(h.F),l.\u0275\u0275directiveInject(p.QH),l.\u0275\u0275directiveInject(v.F0))},e.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["ngx-surveys-table"]],inputs:{user:"user",surveys:"surveys",title:"title"},decls:24,vars:10,consts:[["size","large"],[1,"row","mb-2"],[1,"col-md-6"],["for","name"],["nbPrefix","","icon","person-outline","pack","eva"],["fieldSize","small","placeholder","Buscar por Nombre","name","name","type","text","nbInput","",3,"ngModel","ngModelChange"],["for","id"],["nbPrefix","","icon","hash-outline","pack","eva"],["fieldSize","small","placeholder","Buscar por Id","name","id","type","text","nbInput","",3,"ngModel","ngModelChange"],[1,"row","mt-2"],["class","d-flex justify-content-between align-items-stretch",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-stretch"],["size","medium",3,"name","title"],["fullWidth","","size","small",1,"text-center"],["title","Inicio",1,"d-flex","flex-column","justify-content-center"],[1,"label","p-0","m-0"],["title","Borrar Campa\xf1a",1,"d-flex","flex-column","justify-content-center"],["tile","ver encuesta",1,"text-center"],["target","_blank",3,"href"],["icon","external-link-outline","status","info"],["tile","borrar encuesta",1,"text-center",3,"swal"],["icon","trash-outline","status","info"],["text","Esto no se puede deshacer","icon","question",3,"title","showCancelButton","focusCancel","confirm"],["deleteSwal",""]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"nb-card",0),l.\u0275\u0275elementStart(1,"nb-card-body"),l.\u0275\u0275elementStart(2,"h2"),l.\u0275\u0275text(3),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"p"),l.\u0275\u0275text(5," El siguiente es un listado de encuestas realizadas a traves de su enlace personal. "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"div",1),l.\u0275\u0275elementStart(7,"div",2),l.\u0275\u0275elementStart(8,"label",3),l.\u0275\u0275text(9," Nombre"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(10,"nb-form-field"),l.\u0275\u0275element(11,"nb-icon",4),l.\u0275\u0275elementStart(12,"input",5),l.\u0275\u0275listener("ngModelChange",function(e){return t.filterName=e}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(13,"div",2),l.\u0275\u0275elementStart(14,"label",6),l.\u0275\u0275text(15," Id"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(16,"nb-form-field"),l.\u0275\u0275element(17,"nb-icon",7),l.\u0275\u0275elementStart(18,"input",8),l.\u0275\u0275listener("ngModelChange",function(e){return t.filterId=e}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(19,"nb-list",9),l.\u0275\u0275template(20,_,24,16,"nb-list-item",10),l.\u0275\u0275pipe(21,"filter"),l.\u0275\u0275pipe(22,"filter"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(23,"nb-card-footer"),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate1("",t.title," "),l.\u0275\u0275advance(9),l.\u0275\u0275property("ngModel",t.filterName),l.\u0275\u0275advance(6),l.\u0275\u0275property("ngModel",t.filterId),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngForOf",l.\u0275\u0275pipeBind2(21,4,l.\u0275\u0275pipeBind2(22,7,t.surveys,t.filterName),t.filterId)))},directives:[r.Asz,r.yKW,r.jBG,r.fMN,r.t3q,r.h8i,g.Fj,g.JJ,g.On,r.zP_,u.NgForOf,r.XWE,r.qBV,r.k0$,r.lYD,r.Bk3,y.iL,y.q1],pipes:[b,u.DatePipe],styles:[""]}),e}(),x=i(92340),C=i(91841),w=i(17677),P=i(44368);function O(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",14),l.\u0275\u0275listener("removed",function(){var e=l.\u0275\u0275restoreView(n).$implicit;return l.\u0275\u0275nextContext().onRemove(e)}),l.\u0275\u0275elementStart(1,"ngx-dropzone-label"),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var i=t.$implicit;l.\u0275\u0275property("removable",!0)("file",i),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("",i.name," ")}}function k(e,t){if(1&e&&l.\u0275\u0275element(0,"nb-progress-bar",15),2&e){var n=l.\u0275\u0275nextContext();l.\u0275\u0275property("value",n.progress)}}var M=function(){var t=function(){function t(e,n,i){a(this,t),this._dialog=e,this._surveyService=n,this._fb=i,this.files=[],this.progress=0,this.form=this._fb.group({}),this.form.addControl("name",new g.NI("",g.kI.required))}return s(t,[{key:"ngOnInit",value:function(){}},{key:"onSelect",value:function(t){var n;(n=this.files).push.apply(n,e(t.addedFiles))}},{key:"onRemove",value:function(e){this.files.splice(this.files.indexOf(e),1)}},{key:"onSubmit",value:function(){var e=this;if(this.form.valid){this.loading=!0;var t=this._surveyService.toFormData(this.form.value);this.files.length>0&&t.append("file",this.files[0]),this._surveyService.addPopulation(t).subscribe({next:function(t){t.type===C.dt.UploadProgress&&(e.progress=Math.round(100*t.loaded/t.total)),t.type===C.dt.Response&&(1==t.body.type&&(e._surveyService.showToast("top rigth","success","Agregado Correctamente"),e._dialog.close((new w.H).deserialize(t.body.population))),2==t.body.type&&(e.message="Poblaci\xf3n no fue creada"),e.progress=0,e.loading=!1,e.error=!0)},error:function(t){e._surveyService.showToast("top rigth","danger",t),e.loading=!1,e.error=!0,e.progress=0,e.message=t.message}})}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.\u0275\u0275directiveInject(r.X4l),l.\u0275\u0275directiveInject(h.F),l.\u0275\u0275directiveInject(g.qu))},t.\u0275cmp=l.\u0275\u0275defineComponent({type:t,selectors:[["ngx-population-add"]],decls:50,vars:8,consts:[["size","large","nbSpinnerStatus","danger","nbSpinnerSize","large","nbSpinnerMessage","",3,"nbSpinner"],[1,"row"],[1,"col-md-12"],[1,"form-group","row"],["for","name",1,"label","col-sm-4","col-form-label"],[1,"col-sm-12",3,"formGroup"],["formControlName","name","type","text","nbInput","","fullWidth","","id","name","placeholder","Nombre de Campa\xf1a"],["nbInput","","fullWidth","","placeholder","Descripci\xf3n"],[2,"width","100%",3,"multiple","maxFileSize","change"],[3,"removable","file","removed",4,"ngFor","ngForOf"],[1,"form-group","col"],[3,"value",4,"ngIf"],[1,"col-sm-12","text-center"],["status","info","nbButton","",1,"text-center",3,"click"],[3,"removable","file","removed"],[3,"value"]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"nb-card",0),l.\u0275\u0275elementStart(1,"nb-card-header"),l.\u0275\u0275text(2,"Agregar/Editar Ocupaci\xf3n"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"nb-card-body"),l.\u0275\u0275elementStart(4,"div",1),l.\u0275\u0275elementStart(5,"div",2),l.\u0275\u0275elementStart(6,"div",3),l.\u0275\u0275elementStart(7,"label",4),l.\u0275\u0275text(8,"Codigo"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(9,"form",5),l.\u0275\u0275element(10,"input",6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(11,"div",3),l.\u0275\u0275elementStart(12,"label",4),l.\u0275\u0275text(13,"Nombre"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(14,"form",5),l.\u0275\u0275element(15,"input",6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(16,"div",3),l.\u0275\u0275elementStart(17,"label",4),l.\u0275\u0275text(18,"Descripci\xf3n"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(19,"form",5),l.\u0275\u0275element(20,"textarea",7),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(21,"div",3),l.\u0275\u0275elementStart(22,"label",4),l.\u0275\u0275text(23,"Icono"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(24,"ngx-dropzone",8),l.\u0275\u0275listener("change",function(e){return t.onSelect(e)}),l.\u0275\u0275template(25,O,3,3,"ngx-dropzone-image-preview",9),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(26,"div",10),l.\u0275\u0275elementStart(27,"label",4),l.\u0275\u0275text(28,"Habilidades"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(29,"nb-list"),l.\u0275\u0275elementStart(30,"nb-list-item"),l.\u0275\u0275text(31," Abogados "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(32,"nb-list-item"),l.\u0275\u0275text(33," Funcionarios de Programas Exclusivos de la Administraci\xf3n P\xfablica "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(34,"nb-list-item"),l.\u0275\u0275text(35," Asistentes Legales y Afines "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(36,"nb-list-item"),l.\u0275\u0275text(37," Periodistas "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(38,"nb-list-item"),l.\u0275\u0275text(39," Ocupaciones Profesionales en Relaciones P\xfablicas y Comunicaciones "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(40,"nb-list-item"),l.\u0275\u0275text(41," Otras Ocupaciones T\xe9cnicas en Cine, Televisi\xf3n y Artes Esc\xe9nicas n.c.a. "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(42,"nb-list-item"),l.\u0275\u0275text(43," Jueces "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(44,k,1,1,"nb-progress-bar",11),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(45,"nb-card-footer"),l.\u0275\u0275elementStart(46,"div",3),l.\u0275\u0275elementStart(47,"div",12),l.\u0275\u0275elementStart(48,"button",13),l.\u0275\u0275listener("click",function(){return t.onSubmit()}),l.\u0275\u0275text(49,"Crear"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275property("nbSpinner",t.loading),l.\u0275\u0275advance(9),l.\u0275\u0275property("formGroup",t.form),l.\u0275\u0275advance(5),l.\u0275\u0275property("formGroup",t.form),l.\u0275\u0275advance(5),l.\u0275\u0275property("formGroup",t.form),l.\u0275\u0275advance(5),l.\u0275\u0275property("multiple",!1)("maxFileSize","1000000"),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",t.files),l.\u0275\u0275advance(19),l.\u0275\u0275property("ngIf",t.progress>0))},directives:[r.Asz,r.Q7R,r.ndF,r.yKW,g._Y,g.JL,g.sg,g.Fj,r.h8i,g.JJ,g.u,P._f,u.NgForOf,r.zP_,r.qBV,u.NgIf,r.XWE,r.DPz,P.sv,P.Jj,r.bSZ],styles:[""]}),t}();function I(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"nb-action",20),l.\u0275\u0275element(1,"nb-icon",2),l.\u0275\u0275elementStart(2,"swal",21,22),l.\u0275\u0275listener("confirm",function(){l.\u0275\u0275restoreView(n);var e=l.\u0275\u0275nextContext(),t=e.$implicit,i=e.index;return l.\u0275\u0275nextContext().activatePopulation(t,i)}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var i=l.\u0275\u0275reference(3),r=l.\u0275\u0275nextContext().$implicit;l.\u0275\u0275property("swal",i),l.\u0275\u0275advance(2),l.\u0275\u0275propertyInterpolate1("title","Seguro que desea Activar la campa\xf1a: ",null==r?null:r.name,"?"),l.\u0275\u0275property("showCancelButton",!0)("focusCancel",!0)}}function z(e,t){1&e&&(l.\u0275\u0275elementStart(0,"nb-action",23),l.\u0275\u0275element(1,"nb-icon",24),l.\u0275\u0275elementEnd())}function j(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"nb-list-item",7),l.\u0275\u0275element(1,"nb-user",8),l.\u0275\u0275elementStart(2,"nb-actions",9),l.\u0275\u0275elementStart(3,"nb-action",10),l.\u0275\u0275elementStart(4,"swal",11,12),l.\u0275\u0275listener("confirm",function(){var e=l.\u0275\u0275restoreView(n),t=e.$implicit,i=e.index;return l.\u0275\u0275nextContext().deletePopulation(t,i)}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"nb-action",13),l.\u0275\u0275elementStart(7,"a",14),l.\u0275\u0275text(8),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(9," / "),l.\u0275\u0275elementStart(10,"a",14),l.\u0275\u0275text(11),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(12,"nb-action",15),l.\u0275\u0275elementStart(13,"a",14),l.\u0275\u0275element(14,"nb-icon",16),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(15,"nb-action",17),l.\u0275\u0275template(16,I,4,4,"nb-action",18),l.\u0275\u0275template(17,z,2,0,"ng-template",null,19,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var i=t.$implicit,r=l.\u0275\u0275reference(5),o=l.\u0275\u0275reference(18),a=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("badgeText",null!=i&&i.active?"Activa":"")("name",null==i?null:i.name),l.\u0275\u0275advance(2),l.\u0275\u0275property("swal",r),l.\u0275\u0275advance(1),l.\u0275\u0275propertyInterpolate1("title","Seguro que desea eliminar la campa\xf1a: ",null==i?null:i.name,"?"),l.\u0275\u0275property("showCancelButton",!0)("focusCancel",!0),l.\u0275\u0275advance(3),l.\u0275\u0275propertyInterpolate1("href","#/dashboard/audience/",null==i?null:i.id,"",l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",null==i?null:i.surveys.length," "),l.\u0275\u0275advance(2),l.\u0275\u0275propertyInterpolate1("href","#/dashboard/audience/",null==i?null:i.id,"",l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",null==i?null:i.surveyeds.length," "),l.\u0275\u0275advance(2),l.\u0275\u0275propertyInterpolate2("href","#/encuesta/",null==i?null:i.id,"/",a.user.id,"",l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(2),l.\u0275\u0275propertyInterpolate3("href","",a.environment.baseUrl.backend,"/report/",null==i?null:i.id,"/",a.user.id,""),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!(null!=i&&i.active))("ngIfElse",o)}}var A=function(){var e=function(){function e(t,n,i){var r=this;a(this,e),this._dialogService=t,this._surveyService=n,this.user=null,this.active_population=null,this.environment=x.N,this.onActivate=new l.EventEmitter,i.getCurrentUser().subscribe(function(e){return r.user=e})}return s(e,[{key:"ngOnInit",value:function(){this.getPopulations()}},{key:"addPopulation",value:function(e){var t=this;e?this._dialogService.open(M,{context:e.id.toString()}):this._dialogService.open(M).onClose.subscribe(function(e){e&&(t.populations=[e].concat(t.populations))})}},{key:"getPopulations",value:function(){var e=this;this._surveyService.getPopulations().subscribe({next:function(t){e.populations=t,e.populations.map(function(t){t.active&&(e.active_population=t)})}})}},{key:"deletePopulation",value:function(e,t){var n=this;this._surveyService.delPopulations(e).subscribe({next:function(e){e&&n.populations.splice(t,1)}})}},{key:"activatePopulation",value:function(e,t){var n=this;this._surveyService.activePopulations(e).subscribe({next:function(e){e&&(n.populations=e,n.onActivate.emit(e))}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(r.Gln),l.\u0275\u0275directiveInject(h.F),l.\u0275\u0275directiveInject(f.e))},e.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["ngx-populations-list"]],outputs:{onActivate:"onActivate"},decls:21,vars:1,consts:[["size","large"],[1,"caption"],["icon","play-circle-outline","status","success"],["status","info","size","small","nbButton","",1,"col","mt-2","text-right",3,"click"],["icon","plus-circle-outline"],[1,"row","mt-3"],["class","d-flex justify-content-between align-items-stretch",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-stretch"],["badgeStatus","success","badgePosition","bottom right","size","tiny",3,"badgeText","name"],["fullWidth","","size","small"],["title","Borrar Campa\xf1a","icon","trash-outline","status","warning",3,"swal"],["text","Esto no se puede deshacer","icon","question",3,"title","showCancelButton","focusCancel","confirm"],["deleteSwal",""],["title","Encuestados",1,"d-flex","justify-content-between"],["target","_blank",3,"href"],["status","info","title","Link"],["icon","link-outline"],["icon","download-outline","status","info","title","Descargar Reporte","target","_blank",3,"href"],["title","Activar",3,"swal",4,"ngIf","ngIfElse"],["pause",""],["title","Activar",3,"swal"],["text","Esto cambiar\xe1 la campa\xf1a activa actual","icon","question",3,"title","showCancelButton","focusCancel","confirm"],["activeSwal",""],["title","Desactivar"],["icon","stop-circle-outline","status","danger"]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"nb-card",0),l.\u0275\u0275elementStart(1,"nb-card-body"),l.\u0275\u0275elementStart(2,"h2"),l.\u0275\u0275text(3," Campa\xf1as "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"p",1),l.\u0275\u0275text(5," Usted debe crear una campa\xf1a para cada periodo de aplicaci\xf3n de la encuesta. Las campa\xf1as ayudan a segmentar la encuesta por periodo o poblaci\xf3n. Tenga en cuenta que solo una campa\xf1a permanecer\xe1 activa "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"div"),l.\u0275\u0275elementStart(7,"b"),l.\u0275\u0275text(8,"Instrucciones*:"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(9,"p"),l.\u0275\u0275elementStart(10,"p"),l.\u0275\u0275text(11,"1. Dar clic en crear Campa\xf1a y seguir instrucciones"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(12,"p"),l.\u0275\u0275text(13,"2. Activar la campa\xf1a creada, presionando el bot\xf3n "),l.\u0275\u0275element(14,"nb-icon",2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(15,"button",3),l.\u0275\u0275listener("click",function(){return t.addPopulation()}),l.\u0275\u0275element(16,"nb-icon",4),l.\u0275\u0275text(17," Campa\xf1a"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(18,"nb-list",5),l.\u0275\u0275template(19,j,19,17,"nb-list-item",6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(20,"nb-card-footer"),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275advance(19),l.\u0275\u0275property("ngForOf",t.populations))},directives:[r.Asz,r.yKW,r.fMN,r.DPz,r.zP_,u.NgForOf,r.XWE,r.qBV,r.k0$,r.lYD,r.Bk3,y.iL,y.q1,u.NgIf],styles:[""]}),e}(),F=["link"];function B(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",4),l.\u0275\u0275elementStart(1,"ngx-populations-list",11),l.\u0275\u0275listener("onActivate",function(e){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext().onActivate(e)}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}}function q(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div"),l.\u0275\u0275elementStart(1,"mark"),l.\u0275\u0275elementStart(2,"b"),l.\u0275\u0275text(3," Enlace de Encuesta: "),l.\u0275\u0275elementStart(4,"a",12),l.\u0275\u0275elementStart(5,"b",13),l.\u0275\u0275text(6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(7,"p"),l.\u0275\u0275elementStart(8,"div",14),l.\u0275\u0275elementStart(9,"button",15),l.\u0275\u0275listener("click",function(){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext().copyToClipBoard()}),l.\u0275\u0275element(10,"nb-icon",16),l.\u0275\u0275text(11," Copiar Enlace "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var i=l.\u0275\u0275nextContext();l.\u0275\u0275advance(4),l.\u0275\u0275propertyInterpolate2("href","#/encuesta/",null==i.active_population?null:i.active_population.id,"/",i.user.id,"",l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate3("",i.origin,"/#/encuesta/",null==i.active_population?null:i.active_population.id,"/",i.user.id,"")}}function N(e,t){1&e&&(l.\u0275\u0275elementStart(0,"div",17),l.\u0275\u0275elementStart(1,"p"),l.\u0275\u0275text(2,"Actualmente no hay campa\xf1as activas."),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd())}function U(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"div",1),l.\u0275\u0275elementStart(1,"div",18),l.\u0275\u0275element(2,"ngx-surveys-table",10),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("title","Todas las encuestas")("surveys",n.surveys_all)("user",n.user)}}var K=function(){var e=function(){function e(t,n,i,r){var o=this;a(this,e),this.clipboard=t,this._accessChecker=n,this._authService=i,this._surveyService=r,this.user=null,this.origin=window.location.origin,this.active_population=null,i.getCurrentUser().subscribe(function(e){o.user=e,o.getActivePopulations(),o.getSurveys(),n.isGranted("Register Admin","all")&&o.getSurveys_all()})}return s(e,[{key:"getActivePopulations",value:function(){var e=this;this._surveyService.getPopulations().subscribe({next:function(t){e.populations=t,e.populations.map(function(t){t.active&&(e.active_population=t)})}})}},{key:"getSurveys",value:function(){var e=this;this.loading=!0,this._surveyService.getSurveys(this.user.id+"").subscribe({next:function(t){e.surveys=t,e.loading=!1}})}},{key:"getSurveys_all",value:function(){var e=this;this.loading=!0,this._surveyService.getSurveys("all").subscribe({next:function(t){e.surveys_all=t,e.loading=!1}})}},{key:"onActivate",value:function(e){this.getActivePopulations(),this.getSurveys(),this._accessChecker.isGranted("Register Admin","all")&&this.getSurveys_all()}},{key:"copyToClipBoard",value:function(){this.clipboard.copy(this.origin+"/#/encuesta/"+this.active_population.id+"/"+this.user.id),alert("Enlace copiado")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(d),l.\u0275\u0275directiveInject(p.QH),l.\u0275\u0275directiveInject(f.e),l.\u0275\u0275directiveInject(h.F))},e.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["ngx-dashboard"]],viewQuery:function(e,t){var n;(1&e&&l.\u0275\u0275viewQuery(F,5),2&e)&&(l.\u0275\u0275queryRefresh(n=l.\u0275\u0275loadQuery())&&(t.link_container=n.first))},decls:27,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-md-5"],["style","width: 100%",4,"ngIf"],[2,"width","100%"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"text-right","color-info"],[1,"col-md-7"],["class","row",4,"ngIf"],[3,"title","surveys","user"],[3,"onActivate"],["target","_blank",3,"href"],[1,"text-info"],[1,"mt-2"],["nbButton","","size","small","status","info",3,"click"],["icon","copy-outline"],[1,"dflex","flex-column","justify-content-center"],[1,"col-sm-12"]],template:function(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"div",2),l.\u0275\u0275template(3,B,2,0,"div",3),l.\u0275\u0275pipe(4,"async"),l.\u0275\u0275elementStart(5,"nb-card",4),l.\u0275\u0275elementStart(6,"nb-card-body"),l.\u0275\u0275elementStart(7,"div"),l.\u0275\u0275elementStart(8,"h2"),l.\u0275\u0275text(9),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(10,"div"),l.\u0275\u0275element(11,"p"),l.\u0275\u0275elementStart(12,"b"),l.\u0275\u0275text(13,"Instrucci\xf3n*:"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(14,"p"),l.\u0275\u0275elementStart(15,"p"),l.\u0275\u0275text(16," Utilice este link para realizar la encuesta. "),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(17,q,12,5,"div",5),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(18,N,3,0,"ng-template",null,6,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(20,"nb-card-footer",7),l.\u0275\u0275elementStart(21,"b"),l.\u0275\u0275text(22),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(23,"div",8),l.\u0275\u0275template(24,U,3,3,"div",9),l.\u0275\u0275pipe(25,"async"),l.\u0275\u0275element(26,"ngx-surveys-table",10),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=l.\u0275\u0275reference(19);l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(4,9,t._accessChecker.isGranted("Register Admin","all"))),l.\u0275\u0275advance(6),l.\u0275\u0275textInterpolate1("Hola ",t.user.name,","),l.\u0275\u0275advance(8),l.\u0275\u0275property("ngIf",t.active_population)("ngIfElse",n),l.\u0275\u0275advance(5),l.\u0275\u0275textInterpolate1(" Campa\xf1a Activa: ",null==t.active_population?null:t.active_population.name," "),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(25,11,t._accessChecker.isGranted("Register Admin","all"))),l.\u0275\u0275advance(2),l.\u0275\u0275property("title","Mis Encuestas")("surveys",t.surveys)("user",t.user)}},directives:[u.NgIf,r.Asz,r.yKW,r.XWE,E,A,r.DPz,r.fMN],pipes:[u.AsyncPipe],encapsulation:2}),e}(),D=i(14398),V=function(){var e=function(){function e(t){a(this,e),this._surveyService=t,this.added=new l.EventEmitter,this.surveyed={name:"",identification:"",last_name:"",population_id:""}}return s(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){var e=this;this.surveyed.population_id=this.population_id,this._surveyService.addSurveyed(this.surveyed).subscribe(function(t){e.added.emit(t),e.surveyed=new D.u})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(h.F))},e.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["ngx-surveyed-add"]],inputs:{population_id:"population_id"},outputs:{added:"added"},decls:11,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"inline-form-card"],[1,"form-inline"],["name","name","type","text","nbInput","","fullWidth","","placeholder","Nombre",3,"ngModel","ngModelChange"],["name","identification","type","text","nbInput","","fullWidth","","placeholder","ID",3,"ngModel","ngModelChange"],["nbButton","","status","primary",3,"click"]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"nb-card",2),l.\u0275\u0275elementStart(3,"nb-card-header"),l.\u0275\u0275text(4,"Agregar Encuestado"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"nb-card-body"),l.\u0275\u0275elementStart(6,"form",3),l.\u0275\u0275elementStart(7,"input",4),l.\u0275\u0275listener("ngModelChange",function(e){return t.surveyed.name=e}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(8,"input",5),l.\u0275\u0275listener("ngModelChange",function(e){return t.surveyed.identification=e}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(9,"button",6),l.\u0275\u0275listener("click",function(){return t.onSubmit()}),l.\u0275\u0275text(10,"Agregar"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275advance(7),l.\u0275\u0275property("ngModel",t.surveyed.name),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngModel",t.surveyed.identification))},directives:[r.Asz,r.ndF,r.yKW,g._Y,g.JL,g.F,r.h8i,g.Fj,g.JJ,g.On,r.DPz],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),e}();function R(e,t){1&e&&(l.\u0275\u0275elementStart(0,"span",18),l.\u0275\u0275text(1,"Finalizada"),l.\u0275\u0275elementEnd())}function T(e,t){1&e&&(l.\u0275\u0275elementStart(0,"span",19),l.\u0275\u0275text(1,"En progreso"),l.\u0275\u0275elementEnd())}function W(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"nb-action"),l.\u0275\u0275template(1,R,2,0,"span",16),l.\u0275\u0275template(2,T,2,0,"span",17),l.\u0275\u0275elementEnd()),2&e){var n=l.\u0275\u0275nextContext().$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",n.survey.isFinished),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!n.survey.isFinished)}}function $(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"nb-action"),l.\u0275\u0275elementStart(1,"a",20),l.\u0275\u0275element(2,"nb-icon",21),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=l.\u0275\u0275nextContext().$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275propertyInterpolate2("href","#/encuesta/1/",n.survey.user_id,"/",n.survey.uuid,"",l.\u0275\u0275sanitizeUrl)}}function G(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"nb-list-item",8),l.\u0275\u0275element(1,"nb-user",9),l.\u0275\u0275elementStart(2,"nb-actions",10),l.\u0275\u0275template(3,W,3,2,"nb-action",11),l.\u0275\u0275template(4,$,3,2,"nb-action",11),l.\u0275\u0275elementStart(5,"nb-action",12),l.\u0275\u0275element(6,"nb-icon",13),l.\u0275\u0275elementStart(7,"span"),l.\u0275\u0275text(8,"Borrar"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(9,"swal",14,15),l.\u0275\u0275listener("confirm",function(){var e=l.\u0275\u0275restoreView(n),t=e.$implicit,i=e.index;return l.\u0275\u0275nextContext().deleteSurveyed(t,i)}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var i=t.$implicit,r=l.\u0275\u0275reference(10);l.\u0275\u0275advance(1),l.\u0275\u0275property("name",i.name)("title",i.identification),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",i.survey),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",i.survey),l.\u0275\u0275advance(1),l.\u0275\u0275property("swal",r),l.\u0275\u0275advance(4),l.\u0275\u0275propertyInterpolate1("title","Seguro que desea eliminar al encuestado ",i.name,"?"),l.\u0275\u0275property("showCancelButton",!0)("focusCancel",!0)}}var H=function(){var e=function(){function e(t,n,i,r){a(this,e),this._surveyService=n,this._dialogService=i,this._Activatedroute=r}return s(e,[{key:"ngOnInit",value:function(){this.population_id=this._Activatedroute.snapshot.paramMap.get("population_id"),this.getPopulations(this.population_id)}},{key:"getPopulations",value:function(e){var t=this;this._surveyService.getPopulation(e).subscribe({next:function(e){t.population=e}})}},{key:"deleteSurveyed",value:function(e,t){var n=this;this._surveyService.deleteSurveyed(e).subscribe({next:function(e){n.population.surveyeds.splice(t,1),n._surveyService.showToast("rigth","success","Borrado Correctamente")}})}},{key:"onAdded",value:function(e){var t=[e].concat(this.population.surveyeds);this.population.surveyeds=t,this._surveyService.showToast("rigth","success","Agregado Correctamente")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(f.e),l.\u0275\u0275directiveInject(h.F),l.\u0275\u0275directiveInject(r.Gln),l.\u0275\u0275directiveInject(v.gz))},e.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["ngx-population-view"]],decls:13,vars:5,consts:[[1,"col-md-8","offset-md-2"],[3,"population_id","added"],[1,"row"],[1,"col-md-12"],["size","large",1,"list-card"],[1,"d-flex","justify-content-between"],[1,"label","text-left"],["class","d-flex justify-content-between","role","list",4,"ngFor","ngForOf"],["role","list",1,"d-flex","justify-content-between"],[3,"name","title"],["size","small","fullWidth","",1,"d-flex","justify-content-between"],[4,"ngIf"],["href","#",3,"swal"],["icon","trash-2-outline",1,"action-icon"],["text","Esto no se puede deshacer","icon","question",3,"title","showCancelButton","focusCancel","confirm"],["deleteSwal",""],["class","text-success",4,"ngIf"],["class","text-info",4,"ngIf"],[1,"text-success"],[1,"text-info"],["target","_blank",3,"href"],["icon","external-link-outline","status","info"]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275elementStart(1,"ngx-surveyed-add",1),l.\u0275\u0275listener("added",function(e){return t.onAdded(e)}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(2,"div",2),l.\u0275\u0275elementStart(3,"div",3),l.\u0275\u0275elementStart(4,"nb-card",4),l.\u0275\u0275elementStart(5,"nb-card-header",5),l.\u0275\u0275elementStart(6,"div"),l.\u0275\u0275text(7),l.\u0275\u0275elementStart(8,"div",6),l.\u0275\u0275text(9),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(10,"div"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(11,"nb-list"),l.\u0275\u0275template(12,G,11,8,"nb-list-item",7),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("population_id",null==t.population?null:t.population.id),l.\u0275\u0275advance(6),l.\u0275\u0275textInterpolate1(" Campa\xf1a: ",null==t.population?null:t.population.name," "),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate2(" Encuestados: ",null==t.population?null:t.population.surveyeds.length," / Encuestas: ",null==t.population?null:t.population.surveys.length," "),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngForOf",null==t.population?null:t.population.surveyeds))},directives:[V,r.Asz,r.ndF,r.zP_,u.NgForOf,r.qBV,r.k0$,r.lYD,u.NgIf,r.Bk3,y.iL,r.fMN,y.q1],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap";.nb-theme-default   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-default   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-default   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-dark   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-dark   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-dark   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-cosmic   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-corporate   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-corporate   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-corporate   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-material-dark   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-material-dark   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-material-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-material-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-material-dark   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-material-light   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-material-light   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-material-light   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-material-light   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-material-light   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}.nb-theme-obsrio   [_nghost-%COMP%]   .buttons-row[_ngcontent-%COMP%]{margin:-.5rem}.nb-theme-obsrio   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:.5rem}[dir=ltr]   .nb-theme-obsrio   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-obsrio   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-obsrio   [_nghost-%COMP%]   .actions-card[_ngcontent-%COMP%]{height:8rem}']}),e}(),Q=function(){var e=function e(){a(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({imports:[[u.CommonModule,r.CG_,r.nKr,r.zyh,r.IIj],u.CommonModule]}),e}(),J=[{path:"",component:K},{path:"audience/:population_id",component:H},{path:"encuesta/:id",loadChildren:"app/pages/onu-mujeres/onu-mujeres-routing.module#OnuMujeresRoutingModule"}],L=function(){var e=function e(){a(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({imports:[[r.zyh,o.O,r.KdK,p.KQ,r.COg,r.zyh,r.MAY,r.nKr,r.T2N,r.uuI,r.j7H.forChild(),P.bB,r.DfH,g.UX,g.u5,m,v.Bz.forChild(J),y.ii,r.AE1,r.V7y,Q,S],v.Bz]}),e}()}}])}();